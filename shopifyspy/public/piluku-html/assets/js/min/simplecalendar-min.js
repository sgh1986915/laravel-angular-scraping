var calendar={init:function(){function t(t){var d=["January","February","March","April","May","June","July","August","September","October","November","December"];return d[t-1]}function d(d,a,n,o,r,s,i,c){$(".month").text(t(d)),$(".month").attr("data-month",d),e(d,a,n,o,r,s,i,c)}function e(t,d,e,r,s,c,h,y){function v(t,d){for(var e=new Date(d,t,1),a=[];e.getMonth()===t;)a.push(new Date(e)),e.setDate(e.getDate()+1);return a}function l(d,e,a,n,o,r,s){var i=v(t-1,m)[0].toString().substring(0,3);"Mon"===i?$("thead.event-days tr").append("<td>"+d+"</td><td>"+e+"</td><td>"+a+"</td><td>"+n+"</td><td>"+o+"</td><td>"+r+"</td><td>"+s+"</td>"):"Tue"===i?$("thead.event-days tr").append("<td>"+e+"</td><td>"+a+"</td><td>"+n+"</td><td>"+o+"</td><td>"+r+"</td><td>"+s+"</td><td>"+d+"</td>"):"Wed"===i?$("thead.event-days tr").append("<td>"+a+"</td><td>"+n+"</td><td>"+o+"</td><td>"+r+"</td><td>"+s+"</td><td>"+d+"</td><td>"+e+"</td>"):"Thu"===i?$("thead.event-days tr").append("<td>"+n+"</td><td>"+o+"</td><td>"+r+"</td><td>"+s+"</td><td>"+d+"</td><td>"+e+"</td><td>"+a+"</td>"):"Fri"===i?$("thead.event-days tr").append("<td>"+o+"</td><td>"+r+"</td><td>"+s+"</td><td>"+d+"</td><td>"+e+"</td><td>"+a+"</td><td>"+n+"</td>"):"Sat"===i?$("thead.event-days tr").append("<td>"+r+"</td><td>"+s+"</td><td>"+d+"</td><td>"+e+"</td><td>"+a+"</td><td>"+n+"</td><td>"+o+"</td>"):"Sun"===i&&$("thead.event-days tr").append("<td>"+s+"</td><td>"+d+"</td><td>"+e+"</td><td>"+a+"</td><td>"+n+"</td><td>"+o+"</td><td>"+r+"</td>")}$($("tbody.event-calendar tr")).each(function(t){$(this).empty()}),$($("thead.event-days tr")).each(function(t){$(this).empty()});var m=(new Date).getFullYear();i=0,l(d,e,r,s,c,h,y),$(v(t-1,m)).each(function(d){var d=d+1;8>d?$("tbody.event-calendar tr.1").append('<td date-month="'+t+'" date-day="'+d+'">'+d+"</td>"):15>d?$("tbody.event-calendar tr.2").append('<td date-month="'+t+'" date-day="'+d+'">'+d+"</td>"):22>d?$("tbody.event-calendar tr.3").append('<td date-month="'+t+'" date-day="'+d+'">'+d+"</td>"):29>d?$("tbody.event-calendar tr.4").append('<td date-month="'+t+'" date-day="'+d+'">'+d+"</td>"):32>d&&$("tbody.event-calendar tr.5").append('<td date-month="'+t+'" date-day="'+d+'">'+d+"</td>"),i++});var u=new Date,p=u.getMonth()+1;a(p),n(),o()}function a(t){var d=$(".month").attr("data-month");parseInt(t)===parseInt(d)&&$('tbody.event-calendar td[date-day="'+p.getDate()+'"]').addClass("current-day")}function n(){$(".day-event").each(function(t){var d=$(this).attr("date-month"),e=$(this).attr("date-day");$('tbody.event-calendar tr td[date-month="'+d+'"][date-day="'+e+'"]').addClass("event")})}function o(){$("tbody.event-calendar td").on("click",function(t){$(".day-event").slideUp("fast");var d=$(this).attr("date-month"),e=$(this).text();$('.day-event[date-month="'+d+'"][date-day="'+e+'"]').slideDown("fast")})}function r(){$(".remove").click(function(){if(this.checked){$(this).next().text("Remove from personal list");var t=$(this).closest(".day").attr("date-month"),d=$(this).closest(".day").attr("date-day"),e=$(this).closest(".day").attr("data-number");$('.day[date-month="'+t+'"][date-day="'+d+'"][data-number="'+e+'"]').slideUp("slow"),$('.day-event[date-month="'+t+'"][date-day="'+d+'"][data-number="'+e+'"]').find(".save").attr("checked",!1),$('.day-event[date-month="'+t+'"][date-day="'+d+'"][data-number="'+e+'"]').find("span").text("Save to personal list"),setTimeout(function(){$('.day[date-month="'+t+'"][date-day="'+d+'"][data-number="'+e+'"]').remove()},1500)}})}function s(){var t=$(".person-list");t.find(".day").sort(function(t,d){return+t.getAttribute("date-day")-+d.getAttribute("date-day")}).appendTo(t)}var c="Mon",h="Tue",y="Wed",v="Thur",l="Fri",m="Sat",u="Sun",p=new Date,f=p.getFullYear()+"/"+(p.getMonth()+1)+"/"+p.getDate(),b=p.getMonth()+1;d(b,c,h,y,v,l,m,u),$(".btn-next").on("click",function(t){var e=$(".month").attr("data-month");if(e>11){$(".month").attr("data-month","0");var e=$(".month").attr("data-month");d(parseInt(e)+1,c,h,y,v,l,m,u)}else d(parseInt(e)+1,c,h,y,v,l,m,u)}),$(".btn-prev").on("click",function(t){var e=$(".month").attr("data-month");if(2>e){$(".month").attr("data-month","13");var e=$(".month").attr("data-month");d(parseInt(e)-1,c,h,y,v,l,m,u)}else d(parseInt(e)-1,c,h,y,v,l,m,u)}),$("tbody td").on("click",function(t){$(this).hasClass("event")?($("tbody.event-calendar td").removeClass("active"),$(this).addClass("active")):$("tbody.event-calendar td").removeClass("active")}),$(".close").on("click",function(t){$(this).parent().slideUp("fast")}),$(".save").click(function(){if(this.checked){$(this).next().text("Remove from personal list");var t=$(this).closest(".day-event").html(),d=$(this).closest(".day-event").attr("date-month"),e=$(this).closest(".day-event").attr("date-day"),a=$(this).closest(".day-event").attr("data-number");$(".person-list").append('<div class="day" date-month="'+d+'" date-day="'+e+'" data-number="'+a+'" style="display:none;">'+t+"</div>"),$('.day[date-month="'+d+'"][date-day="'+e+'"]').slideDown("fast"),$(".day").find(".close").remove(),$(".day").find(".save").removeClass("save").addClass("remove"),$(".day").find(".remove").next().addClass("hidden-print"),r(),s()}else{$(this).next().text("Save to personal list");var d=$(this).closest(".day-event").attr("date-month"),e=$(this).closest(".day-event").attr("date-day"),a=$(this).closest(".day-event").attr("data-number");$('.day[date-month="'+d+'"][date-day="'+e+'"][data-number="'+a+'"]').slideUp("slow"),setTimeout(function(){$('.day[date-month="'+d+'"][date-day="'+e+'"][data-number="'+a+'"]').remove()},1500)}}),$(".print-btn").click(function(){window.print()})}};$(document).ready(function(){calendar.init()});