nv.models.historicalBarChart=function(){"use strict";function t(v){return v.each(function(S){var C=d3.select(this),k=this,D=(c||parseInt(C.style("width"))||960)-l.left-l.right,I=(d||parseInt(C.style("height"))||400)-l.top-l.bottom;if(t.update=function(){C.transition().duration(w).call(t)},t.container=this,m.disabled=S.map(function(t){return!!t.disabled}),!b){var B;b={};for(B in m)b[B]=m[B]instanceof Array?m[B].slice(0):m[B]}if(!(S&&S.length&&S.filter(function(t){return t.values.length}).length)){var W=C.selectAll(".nv-noData").data([x]);return W.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),W.attr("x",l.left+D/2).attr("y",l.top+I/2).text(function(t){return t}),t}C.selectAll(".nv-noData").remove(),n=a.xScale(),e=a.yScale();var H=C.selectAll("g.nv-wrap.nv-historicalBarChart").data([S]),z=H.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),E=H.select("g");z.append("g").attr("class","nv-x nv-axis"),z.append("g").attr("class","nv-y nv-axis"),z.append("g").attr("class","nv-barsWrap"),z.append("g").attr("class","nv-legendWrap"),u&&(r.width(D),E.select(".nv-legendWrap").datum(S).call(r),l.top!=r.height()&&(l.top=r.height(),I=(d||parseInt(C.style("height"))||400)-l.top-l.bottom),H.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")),H.attr("transform","translate("+l.left+","+l.top+")"),h&&E.select(".nv-y.nv-axis").attr("transform","translate("+D+",0)"),a.width(D).height(I).color(S.map(function(t,n){return t.color||s(t,n)}).filter(function(t,n){return!S[n].disabled}));var F=E.select(".nv-barsWrap").datum(S.filter(function(t){return!t.disabled}));F.transition().call(a),p&&(i.scale(n).tickSize(-I,0),E.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),E.select(".nv-x.nv-axis").transition().call(i)),f&&(o.scale(e).ticks(I/36).tickSize(-D,0),E.select(".nv-y.nv-axis").transition().call(o)),r.dispatch.on("legendClick",function(n){n.disabled=!n.disabled,S.filter(function(t){return!t.disabled}).length||S.map(function(t){return t.disabled=!1,H.selectAll(".nv-series").classed("disabled",!1),t}),m.disabled=S.map(function(t){return!!t.disabled}),y.stateChange(m),v.transition().call(t)}),r.dispatch.on("legendDblclick",function(n){S.forEach(function(t){t.disabled=!0}),n.disabled=!1,m.disabled=S.map(function(t){return!!t.disabled}),y.stateChange(m),t.update()}),y.on("tooltipShow",function(t){g&&A(t,k.parentNode)}),y.on("changeState",function(n){"undefined"!=typeof n.disabled&&(S.forEach(function(t,e){t.disabled=n.disabled[e]}),m.disabled=n.disabled),v.call(t)})}),t}var n,e,a=nv.models.historicalBar(),i=nv.models.axis(),o=nv.models.axis(),r=nv.models.legend(),l={top:30,right:90,bottom:50,left:90},s=nv.utils.defaultColor(),c=null,d=null,u=!1,p=!0,f=!0,h=!1,g=!0,v=function(t,n,e){return"<h3>"+t+"</h3>"+"<p>"+e+" at "+n+"</p>"},m={},b=null,x="No Data Available.",y=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),w=250;i.orient("bottom").tickPadding(7),o.orient(h?"right":"left");var A=function(n,e){if(e){var r=d3.select(e).select("svg"),l=r.node()?r.attr("viewBox"):null;if(l){l=l.split(" ");var s=parseInt(r.style("width"))/l[2];n.pos[0]=n.pos[0]*s,n.pos[1]=n.pos[1]*s}}var c=n.pos[0]+(e.offsetLeft||0),d=n.pos[1]+(e.offsetTop||0),u=i.tickFormat()(a.x()(n.point,n.pointIndex)),p=o.tickFormat()(a.y()(n.point,n.pointIndex)),f=v(n.series.key,u,p,n,t);nv.tooltip.show([c,d],f,null,null,e)};return a.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+l.left,t.pos[1]+l.top],y.tooltipShow(t)}),a.dispatch.on("elementMouseout.tooltip",function(t){y.tooltipHide(t)}),y.on("tooltipHide",function(){g&&nv.tooltip.cleanup()}),t.dispatch=y,t.bars=a,t.legend=r,t.xAxis=i,t.yAxis=o,d3.rebind(t,a,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate","highlightPoint","clearHighlights","interactive"),t.options=nv.utils.optionsFunc.bind(t),t.margin=function(n){return arguments.length?(l.top="undefined"!=typeof n.top?n.top:l.top,l.right="undefined"!=typeof n.right?n.right:l.right,l.bottom="undefined"!=typeof n.bottom?n.bottom:l.bottom,l.left="undefined"!=typeof n.left?n.left:l.left,t):l},t.width=function(n){return arguments.length?(c=n,t):c},t.height=function(n){return arguments.length?(d=n,t):d},t.color=function(n){return arguments.length?(s=nv.utils.getColor(n),r.color(s),t):s},t.showLegend=function(n){return arguments.length?(u=n,t):u},t.showXAxis=function(n){return arguments.length?(p=n,t):p},t.showYAxis=function(n){return arguments.length?(f=n,t):f},t.rightAlignYAxis=function(n){return arguments.length?(h=n,o.orient(n?"right":"left"),t):h},t.tooltips=function(n){return arguments.length?(g=n,t):g},t.tooltipContent=function(n){return arguments.length?(v=n,t):v},t.state=function(n){return arguments.length?(m=n,t):m},t.defaultState=function(n){return arguments.length?(b=n,t):b},t.noData=function(n){return arguments.length?(x=n,t):x},t.transitionDuration=function(n){return arguments.length?(w=n,t):w},t};