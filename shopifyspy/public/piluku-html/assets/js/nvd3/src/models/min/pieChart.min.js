nv.models.pieChart=function(){"use strict";function t(r){return r.each(function(r){var s=d3.select(this),u=(a||parseInt(s.style("width"))||960)-o.left-o.right,f=(i||parseInt(s.style("height"))||400)-o.top-o.bottom;if(t.update=function(){s.transition().call(t)},t.container=this,p.disabled=r.map(function(t){return!!t.disabled}),!d){var g;d={};for(g in p)d[g]=p[g]instanceof Array?p[g].slice(0):p[g]}if(!r||!r.length){var v=s.selectAll(".nv-noData").data([c]);return v.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),v.attr("x",o.left+u/2).attr("y",o.top+f/2).text(function(t){return t}),t}s.selectAll(".nv-noData").remove();var m=s.selectAll("g.nv-wrap.nv-pieChart").data([r]),b=m.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),y=m.select("g");b.append("g").attr("class","nv-pieWrap"),b.append("g").attr("class","nv-legendWrap"),l&&(n.width(u).key(e.x()),m.select(".nv-legendWrap").datum(r).call(n),o.top!=n.height()&&(o.top=n.height(),f=(i||parseInt(s.style("height"))||400)-o.top-o.bottom),m.select(".nv-legendWrap").attr("transform","translate(0,"+-o.top+")")),m.attr("transform","translate("+o.left+","+o.top+")"),e.width(u).height(f);var w=y.select(".nv-pieWrap").datum([r]);d3.transition(w).call(e),n.dispatch.on("stateChange",function(e){p=e,h.stateChange(p),t.update()}),e.dispatch.on("elementMouseout.tooltip",function(t){h.tooltipHide(t)}),h.on("changeState",function(e){"undefined"!=typeof e.disabled&&(r.forEach(function(t,n){t.disabled=e.disabled[n]}),p.disabled=e.disabled),t.update()})}),t}var e=nv.models.pie(),n=nv.models.legend(),o={top:30,right:20,bottom:20,left:20},a=null,i=null,l=!0,r=nv.utils.defaultColor(),s=!0,u=function(t,e){return"<h3>"+t+"</h3>"+"<p>"+e+"</p>"},p={},d=null,c="No Data Available.",h=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),f=function(n,o){var a=e.description()(n.point)||e.x()(n.point),i=n.pos[0]+(o&&o.offsetLeft||0),l=n.pos[1]+(o&&o.offsetTop||0),r=e.valueFormat()(e.y()(n.point)),s=u(a,r,n,t);nv.tooltip.show([i,l],s,n.value<0?"n":"s",null,o)};return e.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],h.tooltipShow(t)}),h.on("tooltipShow",function(t){s&&f(t)}),h.on("tooltipHide",function(){s&&nv.tooltip.cleanup()}),t.legend=n,t.dispatch=h,t.pie=e,d3.rebind(t,e,"valueFormat","values","x","y","description","id","showLabels","donutLabelsOutside","pieLabelsOutside","labelType","donut","donutRatio","labelThreshold"),t.options=nv.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(o.top="undefined"!=typeof e.top?e.top:o.top,o.right="undefined"!=typeof e.right?e.right:o.right,o.bottom="undefined"!=typeof e.bottom?e.bottom:o.bottom,o.left="undefined"!=typeof e.left?e.left:o.left,t):o},t.width=function(e){return arguments.length?(a=e,t):a},t.height=function(e){return arguments.length?(i=e,t):i},t.color=function(o){return arguments.length?(r=nv.utils.getColor(o),n.color(r),e.color(r),t):r},t.showLegend=function(e){return arguments.length?(l=e,t):l},t.tooltips=function(e){return arguments.length?(s=e,t):s},t.tooltipContent=function(e){return arguments.length?(u=e,t):u},t.state=function(e){return arguments.length?(p=e,t):p},t.defaultState=function(e){return arguments.length?(d=e,t):d},t.noData=function(e){return arguments.length?(c=e,t):c},t};