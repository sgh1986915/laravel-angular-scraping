nv.models.multiBarTimeSeriesChart=function(){"use strict";function t(v){return v.each(function(k){var w=d3.select(this),A=this,S=(c||parseInt(w.style("width"))||960)-s.left-s.right,W=(d||parseInt(w.style("height"))||400)-s.top-s.bottom;if(t.update=function(){v.transition().call(t)},t.container=this,!(k&&k.length&&k.filter(function(t){return t.values.length}).length)){var C=w.selectAll(".nv-noData").data([x]);return C.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),C.attr("x",s.left+S/2).attr("y",s.top+W/2).text(function(t){return t}),t}w.selectAll(".nv-noData").remove(),e=a.xScale(),n=a.yScale();var D=w.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([k]),I=D.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),L=D.select("g");if(I.append("g").attr("class","nv-x nv-axis"),I.append("g").attr("class","nv-y nv-axis"),I.append("g").attr("class","nv-barsWrap"),I.append("g").attr("class","nv-legendWrap"),I.append("g").attr("class","nv-controlsWrap"),f&&(r.width(S/2),L.select(".nv-legendWrap").datum(k).call(r),s.top!=r.height()&&(s.top=r.height(),W=(d||parseInt(w.style("height"))||400)-s.top-s.bottom),L.select(".nv-legendWrap").attr("transform","translate("+S/2+","+-s.top+")")),p){var M=[{key:"Grouped",disabled:a.stacked()},{key:"Stacked",disabled:!a.stacked()}];i.width(180).color(["#444","#444","#444"]),L.select(".nv-controlsWrap").datum(M).attr("transform","translate(0,"+-s.top+")").call(i)}D.attr("transform","translate("+s.left+","+s.top+")"),a.width(S).height(W).color(k.map(function(t,e){return t.color||u(t,e)}).filter(function(t,e){return!k[e].disabled}));var B=L.select(".nv-barsWrap").datum(k.filter(function(t){return!t.disabled}));d3.transition(B).call(a),o.scale(e).ticks(S/100).tickSize(-W,0),L.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),d3.transition(L.select(".nv-x.nv-axis")).call(o);var F=L.select(".nv-x.nv-axis > g").selectAll("g");F.selectAll("line, text").style("opacity",1),g&&F.filter(function(t,e){return 0!==e%Math.ceil(k[0].values.length/(S/100))}).selectAll("text, line").style("opacity",0),h&&F.selectAll("text").attr("transform",function(){return"rotate("+h+" 0,0)"}).attr("text-transform",h>0?"start":"end"),l.scale(n).ticks(W/36).tickSize(-S,0),d3.transition(L.select(".nv-y.nv-axis")).call(l),r.dispatch.on("legendClick",function(e){e.disabled=!e.disabled,k.filter(function(t){return!t.disabled}).length||k.map(function(t){return t.disabled=!1,D.selectAll(".nv-series").classed("disabled",!1),t}),v.transition().call(t)}),i.dispatch.on("legendClick",function(e){if(e.disabled){switch(M=M.map(function(t){return t.disabled=!0,t}),e.disabled=!1,e.key){case"Grouped":a.stacked(!1);break;case"Stacked":a.stacked(!0)}v.transition().call(t)}}),b.on("tooltipShow",function(t){m&&y(t,A.parentNode)})}),t}var e,n,a=nv.models.multiBarTimeSeries(),o=nv.models.axis(),l=nv.models.axis(),r=nv.models.legend(),i=nv.models.legend(),s={top:30,right:20,bottom:50,left:60},c=null,d=null,u=nv.utils.defaultColor(),p=!0,f=!0,g=!0,h=0,m=!0,v=function(t,e,n){return"<h3>"+t+"</h3>"+"<p>"+n+" on "+e+"</p>"},x="No Data Available.",b=d3.dispatch("tooltipShow","tooltipHide");a.stacked(!1),o.orient("bottom").tickPadding(7).highlightZero(!1).showMaxMin(!1),l.orient("left").tickFormat(d3.format(",.1f"));var y=function(e,n){var r=e.pos[0]+(n.offsetLeft||0),i=e.pos[1]+(n.offsetTop||0),s=o.tickFormat()(a.x()(e.point,e.pointIndex)),c=l.tickFormat()(a.y()(e.point,e.pointIndex)),d=v(e.series.key,s,c,e,t);nv.tooltip.show([r,i],d,e.value<0?"n":"s",null,n)};return a.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+s.left,t.pos[1]+s.top],b.tooltipShow(t)}),a.dispatch.on("elementMouseout.tooltip",function(t){b.tooltipHide(t)}),b.on("tooltipHide",function(){m&&nv.tooltip.cleanup()}),t.dispatch=b,t.multibar=a,t.legend=r,t.xAxis=o,t.yAxis=l,d3.rebind(t,a,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","stacked","delay"),t.options=nv.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(s.top="undefined"!=typeof e.top?e.top:s.top,s.right="undefined"!=typeof e.right?e.right:s.right,s.bottom="undefined"!=typeof e.bottom?e.bottom:s.bottom,s.left="undefined"!=typeof e.left?e.left:s.left,t):s},t.width=function(e){return arguments.length?(c=e,t):c},t.height=function(e){return arguments.length?(d=e,t):d},t.color=function(e){return arguments.length?(u=nv.utils.getColor(e),r.color(u),t):u},t.showControls=function(e){return arguments.length?(p=e,t):p},t.showLegend=function(e){return arguments.length?(f=e,t):f},t.reduceXTicks=function(e){return arguments.length?(g=e,t):g},t.rotateLabels=function(e){return arguments.length?(h=e,t):h},t.tooltip=function(e){return arguments.length?(v=e,t):v},t.tooltips=function(e){return arguments.length?(m=e,t):m},t.tooltipContent=function(e){return arguments.length?(v=e,t):v},t.noData=function(e){return arguments.length?(x=e,t):x},t};