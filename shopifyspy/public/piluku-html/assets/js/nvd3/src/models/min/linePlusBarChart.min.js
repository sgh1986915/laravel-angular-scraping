nv.models.linePlusBarChart=function(){"use strict";function t(f){return f.each(function(f){var g=d3.select(this),y=this,A=(d||parseInt(g.style("width"))||960)-c.left-c.right,C=(p||parseInt(g.style("height"))||400)-c.top-c.bottom;if(t.update=function(){g.transition().call(t)},b.disabled=f.map(function(t){return!!t.disabled}),!x){var D;x={};for(D in b)x[D]=b[D]instanceof Array?b[D].slice(0):b[D]}if(!(f&&f.length&&f.filter(function(t){return t.values.length}).length)){var W=g.selectAll(".nv-noData").data([S]);return W.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),W.attr("x",c.left+A/2).attr("y",c.top+C/2).text(function(t){return t}),t}g.selectAll(".nv-noData").remove();var I=f.filter(function(t){return!t.disabled&&t.bar}),z=f.filter(function(t){return!t.bar});n=z.filter(function(t){return!t.disabled}).length&&z.filter(function(t){return!t.disabled})[0].values.length?o.xScale():i.xScale(),e=i.yScale(),a=o.yScale();var B=d3.select(this).selectAll("g.nv-wrap.nv-linePlusBar").data([f]),H=B.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),K=B.select("g");H.append("g").attr("class","nv-x nv-axis"),H.append("g").attr("class","nv-y1 nv-axis"),H.append("g").attr("class","nv-y2 nv-axis"),H.append("g").attr("class","nv-barsWrap"),H.append("g").attr("class","nv-linesWrap"),H.append("g").attr("class","nv-legendWrap"),v&&(u.width(A/2),K.select(".nv-legendWrap").datum(f.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?" (left axis)":" (right axis)"),t})).call(u),c.top!=u.height()&&(c.top=u.height(),C=(p||parseInt(g.style("height"))||400)-c.top-c.bottom),K.select(".nv-legendWrap").attr("transform","translate("+A/2+","+-c.top+")")),B.attr("transform","translate("+c.left+","+c.top+")"),o.width(A).height(C).color(f.map(function(t,n){return t.color||h(t,n)}).filter(function(t,n){return!f[n].disabled&&!f[n].bar})),i.width(A).height(C).color(f.map(function(t,n){return t.color||h(t,n)}).filter(function(t,n){return!f[n].disabled&&f[n].bar}));var M=K.select(".nv-barsWrap").datum(I.length?I:[{values:[]}]),P=K.select(".nv-linesWrap").datum(z[0]&&!z[0].disabled?z:[{values:[]}]);d3.transition(M).call(i),d3.transition(P).call(o),l.scale(n).ticks(A/100).tickSize(-C,0),K.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),d3.transition(K.select(".nv-x.nv-axis")).call(l),r.scale(e).ticks(C/36).tickSize(-A,0),d3.transition(K.select(".nv-y1.nv-axis")).style("opacity",I.length?1:0).call(r),s.scale(a).ticks(C/36).tickSize(I.length?0:-A,0),K.select(".nv-y2.nv-axis").style("opacity",z.length?1:0).attr("transform","translate("+A+",0)"),d3.transition(K.select(".nv-y2.nv-axis")).call(s),u.dispatch.on("stateChange",function(n){b=n,w.stateChange(b),t.update()}),w.on("tooltipShow",function(t){m&&k(t,y.parentNode)}),w.on("changeState",function(n){"undefined"!=typeof n.disabled&&(f.forEach(function(t,e){t.disabled=n.disabled[e]}),b.disabled=n.disabled),t.update()})}),t}var n,e,a,o=nv.models.line(),i=nv.models.historicalBar(),l=nv.models.axis(),r=nv.models.axis(),s=nv.models.axis(),u=nv.models.legend(),c={top:30,right:60,bottom:50,left:60},d=null,p=null,f=function(t){return t.x},g=function(t){return t.y},h=nv.utils.defaultColor(),v=!0,m=!0,y=function(t,n,e){return"<h3>"+t+"</h3>"+"<p>"+e+" at "+n+"</p>"},b={},x=null,S="No Data Available.",w=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");i.padData(!0),o.clipEdge(!1).padData(!0),l.orient("bottom").tickPadding(7).highlightZero(!1),r.orient("left"),s.orient("right");var k=function(n,e){var a=n.pos[0]+(e.offsetLeft||0),i=n.pos[1]+(e.offsetTop||0),u=l.tickFormat()(o.x()(n.point,n.pointIndex)),c=(n.series.bar?r:s).tickFormat()(o.y()(n.point,n.pointIndex)),d=y(n.series.key,u,c,n,t);nv.tooltip.show([a,i],d,n.value<0?"n":"s",null,e)};return o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],w.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){w.tooltipHide(t)}),i.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],w.tooltipShow(t)}),i.dispatch.on("elementMouseout.tooltip",function(t){w.tooltipHide(t)}),w.on("tooltipHide",function(){m&&nv.tooltip.cleanup()}),t.dispatch=w,t.legend=u,t.lines=o,t.bars=i,t.xAxis=l,t.y1Axis=r,t.y2Axis=s,d3.rebind(t,o,"defined","size","clipVoronoi","interpolate"),t.options=nv.utils.optionsFunc.bind(t),t.x=function(n){return arguments.length?(f=n,o.x(n),i.x(n),t):f},t.y=function(n){return arguments.length?(g=n,o.y(n),i.y(n),t):g},t.margin=function(n){return arguments.length?(c.top="undefined"!=typeof n.top?n.top:c.top,c.right="undefined"!=typeof n.right?n.right:c.right,c.bottom="undefined"!=typeof n.bottom?n.bottom:c.bottom,c.left="undefined"!=typeof n.left?n.left:c.left,t):c},t.width=function(n){return arguments.length?(d=n,t):d},t.height=function(n){return arguments.length?(p=n,t):p},t.color=function(n){return arguments.length?(h=nv.utils.getColor(n),u.color(h),t):h},t.showLegend=function(n){return arguments.length?(v=n,t):v},t.tooltips=function(n){return arguments.length?(m=n,t):m},t.tooltipContent=function(n){return arguments.length?(y=n,t):y},t.state=function(n){return arguments.length?(b=n,t):b},t.defaultState=function(n){return arguments.length?(x=n,t):x},t.noData=function(n){return arguments.length?(S=n,t):S},t};