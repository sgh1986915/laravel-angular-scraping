nv.models.multiBarChart=function(){"use strict";function t(y){return y.each(function(y){var L=d3.select(this),F=this,I=(c||parseInt(L.style("width"))||960)-s.left-s.right,B=(u||parseInt(L.style("height"))||400)-s.top-s.bottom;if(t.update=function(){L.transition().duration(W).call(t)},t.container=this,A.disabled=y.map(function(t){return!!t.disabled}),!w){var E;w={};for(E in A)w[E]=A[E]instanceof Array?A[E].slice(0):A[E]}if(!(y&&y.length&&y.filter(function(t){return t.values.length}).length)){var H=L.selectAll(".nv-noData").data([S]);return H.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),H.attr("x",s.left+I/2).attr("y",s.top+B/2).text(function(t){return t}),t}L.selectAll(".nv-noData").remove(),e=a.xScale(),n=a.yScale();var X=L.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([y]),Y=X.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),z=X.select("g");if(Y.append("g").attr("class","nv-x nv-axis"),Y.append("g").attr("class","nv-y nv-axis"),Y.append("g").attr("class","nv-barsWrap"),Y.append("g").attr("class","nv-legendWrap"),Y.append("g").attr("class","nv-controlsWrap"),g&&(i.width(I-M()),a.barColor()&&y.forEach(function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()}),z.select(".nv-legendWrap").datum(y).call(i),s.top!=i.height()&&(s.top=i.height(),B=(u||parseInt(L.style("height"))||400)-s.top-s.bottom),z.select(".nv-legendWrap").attr("transform","translate("+M()+","+-s.top+")")),f){var G=[{key:"Grouped",disabled:a.stacked()},{key:"Stacked",disabled:!a.stacked()}];l.width(M()).color(["#444","#444","#444"]),z.select(".nv-controlsWrap").datum(G).attr("transform","translate(0,"+-s.top+")").call(l)}X.attr("transform","translate("+s.left+","+s.top+")"),v&&z.select(".nv-y.nv-axis").attr("transform","translate("+I+",0)"),a.disabled(y.map(function(t){return t.disabled})).width(I).height(B).color(y.map(function(t,e){return t.color||d(t,e)}).filter(function(t,e){return!y[e].disabled}));var N=z.select(".nv-barsWrap").datum(y.filter(function(t){return!t.disabled}));if(N.transition().call(a),p){r.scale(e).ticks(I/100).tickSize(-B,0),z.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),z.select(".nv-x.nv-axis").transition().call(r);var R=z.select(".nv-x.nv-axis > g").selectAll("g");if(R.selectAll("line, text").style("opacity",1),x){var T=function(t,e){return"translate("+t+","+e+")"},O=5,P=17;R.selectAll("text").attr("transform",function(t,e,n){return T(0,0==n%2?O:P)});var Z=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;z.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return T(0,0===e||0!==Z%2?P:O)})}m&&R.filter(function(t,e){return 0!==e%Math.ceil(y[0].values.length/(I/100))}).selectAll("text, line").style("opacity",0),b&&R.selectAll(".tick text").attr("transform","rotate("+b+" 0,0)").style("text-anchor",b>0?"start":"end"),z.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}h&&(o.scale(n).ticks(B/36).tickSize(-I,0),z.select(".nv-y.nv-axis").transition().call(o)),i.dispatch.on("stateChange",function(e){A=e,C.stateChange(A),t.update()}),l.dispatch.on("legendClick",function(e){if(e.disabled){switch(G=G.map(function(t){return t.disabled=!0,t}),e.disabled=!1,e.key){case"Grouped":a.stacked(!1);break;case"Stacked":a.stacked(!0)}A.stacked=a.stacked(),C.stateChange(A),t.update()}}),C.on("tooltipShow",function(t){k&&D(t,F.parentNode)}),C.on("changeState",function(e){"undefined"!=typeof e.disabled&&(y.forEach(function(t,n){t.disabled=e.disabled[n]}),A.disabled=e.disabled),"undefined"!=typeof e.stacked&&(a.stacked(e.stacked),A.stacked=e.stacked),t.update()})}),t}var e,n,a=nv.models.multiBar(),r=nv.models.axis(),o=nv.models.axis(),i=nv.models.legend(),l=nv.models.legend(),s={top:30,right:20,bottom:50,left:60},c=null,u=null,d=nv.utils.defaultColor(),f=!0,g=!0,p=!0,h=!0,v=!1,m=!0,x=!1,b=0,k=!0,y=function(t,e,n){return"<h3>"+t+"</h3>"+"<p>"+n+" on "+e+"</p>"},A={stacked:!1},w=null,S="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),M=function(){return f?180:0},W=250;a.stacked(!1),r.orient("bottom").tickPadding(7).highlightZero(!0).showMaxMin(!1).tickFormat(function(t){return t}),o.orient(v?"right":"left").tickFormat(d3.format(",.1f")),l.updateState(!1);var D=function(e,n){var i=e.pos[0]+(n.offsetLeft||0),l=e.pos[1]+(n.offsetTop||0),s=r.tickFormat()(a.x()(e.point,e.pointIndex)),c=o.tickFormat()(a.y()(e.point,e.pointIndex)),u=y(e.series.key,s,c,e,t);nv.tooltip.show([i,l],u,e.value<0?"n":"s",null,n)};return a.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+s.left,t.pos[1]+s.top],C.tooltipShow(t)}),a.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),C.on("tooltipHide",function(){k&&nv.tooltip.cleanup()}),t.dispatch=C,t.multibar=a,t.legend=i,t.xAxis=r,t.yAxis=o,d3.rebind(t,a,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","stacked","stackOffset","delay","barColor","groupSpacing"),t.options=nv.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(s.top="undefined"!=typeof e.top?e.top:s.top,s.right="undefined"!=typeof e.right?e.right:s.right,s.bottom="undefined"!=typeof e.bottom?e.bottom:s.bottom,s.left="undefined"!=typeof e.left?e.left:s.left,t):s},t.width=function(e){return arguments.length?(c=e,t):c},t.height=function(e){return arguments.length?(u=e,t):u},t.color=function(e){return arguments.length?(d=nv.utils.getColor(e),i.color(d),t):d},t.showControls=function(e){return arguments.length?(f=e,t):f},t.showLegend=function(e){return arguments.length?(g=e,t):g},t.showXAxis=function(e){return arguments.length?(p=e,t):p},t.showYAxis=function(e){return arguments.length?(h=e,t):h},t.rightAlignYAxis=function(e){return arguments.length?(v=e,o.orient(e?"right":"left"),t):v},t.reduceXTicks=function(e){return arguments.length?(m=e,t):m},t.rotateLabels=function(e){return arguments.length?(b=e,t):b},t.staggerLabels=function(e){return arguments.length?(x=e,t):x},t.tooltip=function(e){return arguments.length?(y=e,t):y},t.tooltips=function(e){return arguments.length?(k=e,t):k},t.tooltipContent=function(e){return arguments.length?(y=e,t):y},t.state=function(e){return arguments.length?(A=e,t):A},t.defaultState=function(e){return arguments.length?(w=e,t):w},t.noData=function(e){return arguments.length?(S=e,t):S},t.transitionDuration=function(e){return arguments.length?(W=e,t):W},t};