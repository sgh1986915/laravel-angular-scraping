nv.models.linePlusBarWithFocusChart=function(){"use strict";function t(D){return D.each(function(D){function V(t){var n=+("e"==t),e=n?1:-1,a=q/3;return"M"+.5*e+","+a+"A6,6 0 0 "+n+" "+6.5*e+","+(a+6)+"V"+(2*a-6)+"A6,6 0 0 "+n+" "+.5*e+","+2*a+"Z"+"M"+2.5*e+","+(a+8)+"V"+(2*a-8)+"M"+4.5*e+","+(a+8)+"V"+(2*a-8)}function E(){y.empty()||y.extent(I),en.data([y.empty()?a.domain():I]).each(function(t){var n=a(t[0])-a.range()[0],e=a.range()[1]-a(t[1]);d3.select(this).select(".left").attr("width",0>n?0:n),d3.select(this).select(".right").attr("x",a(t[1])).attr("width",0>e?0:e)})}function L(){I=y.empty()?null:y.extent(),n=y.empty()?a.domain():y.extent(),F.brush({extent:n,brush:y}),E(),u.width(Z).height(j).color(D.map(function(t,n){return t.color||z(t,n)}).filter(function(t,n){return!D[n].disabled&&D[n].bar})),s.width(Z).height(j).color(D.map(function(t,n){return t.color||z(t,n)}).filter(function(t,n){return!D[n].disabled&&!D[n].bar}));var t=Y.select(".nv-focus .nv-barsWrap").datum(J.length?J.map(function(t){return{key:t.key,values:t.values.filter(function(t,e){return u.x()(t,e)>=n[0]&&u.x()(t,e)<=n[1]})}}):[{values:[]}]),o=Y.select(".nv-focus .nv-linesWrap").datum(O[0].disabled?[{values:[]}]:O.map(function(t){return{key:t.key,values:t.values.filter(function(t,e){return s.x()(t,e)>=n[0]&&s.x()(t,e)<=n[1]})}}));e=J.length?u.xScale():s.xScale(),d.scale(e).ticks(Z/100).tickSize(-j,0),d.domain([Math.ceil(n[0]),Math.floor(n[1])]),Y.select(".nv-x.nv-axis").transition().duration(H).call(d),t.transition().duration(H).call(u),o.transition().duration(H).call(s),Y.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),f.scale(r).ticks(j/36).tickSize(-Z,0),Y.select(".nv-focus .nv-y1.nv-axis").style("opacity",J.length?1:0),h.scale(i).ticks(j/36).tickSize(J.length?0:-Z,0),Y.select(".nv-focus .nv-y2.nv-axis").style("opacity",O.length?1:0).attr("transform","translate("+e.range()[1]+",0)"),Y.select(".nv-focus .nv-y1.nv-axis").transition().duration(H).call(f),Y.select(".nv-focus .nv-y2.nv-axis").transition().duration(H).call(h)}var N=d3.select(this),T=this,Z=(w||parseInt(N.style("width"))||960)-b.left-b.right,j=(S||parseInt(N.style("height"))||400)-b.top-b.bottom-A,q=A-k.top-k.bottom;if(t.update=function(){N.transition().duration(H).call(t)},t.container=this,!(D&&D.length&&D.filter(function(t){return t.values.length}).length)){var G=N.selectAll(".nv-noData").data([P]);return G.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),G.attr("x",b.left+Z/2).attr("y",b.top+j/2).text(function(t){return t}),t}N.selectAll(".nv-noData").remove();var J=D.filter(function(t){return!t.disabled&&t.bar}),O=D.filter(function(t){return!t.bar});e=u.xScale(),a=v.scale(),r=u.yScale(),i=s.yScale(),o=p.yScale(),l=c.yScale();var Q=D.filter(function(t){return!t.disabled&&t.bar}).map(function(t){return t.values.map(function(t,n){return{x:W(t,n),y:M(t,n)}})}),R=D.filter(function(t){return!t.disabled&&!t.bar}).map(function(t){return t.values.map(function(t,n){return{x:W(t,n),y:M(t,n)}})});e.range([0,Z]),a.domain(d3.extent(d3.merge(Q.concat(R)),function(t){return t.x})).range([0,Z]);var U=N.selectAll("g.nv-wrap.nv-linePlusBar").data([D]),X=U.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),Y=U.select("g");X.append("g").attr("class","nv-legendWrap");var $=X.append("g").attr("class","nv-focus");$.append("g").attr("class","nv-x nv-axis"),$.append("g").attr("class","nv-y1 nv-axis"),$.append("g").attr("class","nv-y2 nv-axis"),$.append("g").attr("class","nv-barsWrap"),$.append("g").attr("class","nv-linesWrap");var _=X.append("g").attr("class","nv-context");_.append("g").attr("class","nv-x nv-axis"),_.append("g").attr("class","nv-y1 nv-axis"),_.append("g").attr("class","nv-y2 nv-axis"),_.append("g").attr("class","nv-barsWrap"),_.append("g").attr("class","nv-linesWrap"),_.append("g").attr("class","nv-brushBackground"),_.append("g").attr("class","nv-x nv-brush"),B&&(m.width(Z/2),Y.select(".nv-legendWrap").datum(D.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?" (left axis)":" (right axis)"),t})).call(m),b.top!=m.height()&&(b.top=m.height(),j=(S||parseInt(N.style("height"))||400)-b.top-b.bottom-A),Y.select(".nv-legendWrap").attr("transform","translate("+Z/2+","+-b.top+")")),U.attr("transform","translate("+b.left+","+b.top+")"),p.width(Z).height(q).color(D.map(function(t,n){return t.color||z(t,n)}).filter(function(t,n){return!D[n].disabled&&D[n].bar})),c.width(Z).height(q).color(D.map(function(t,n){return t.color||z(t,n)}).filter(function(t,n){return!D[n].disabled&&!D[n].bar}));var tn=Y.select(".nv-context .nv-barsWrap").datum(J.length?J:[{values:[]}]),nn=Y.select(".nv-context .nv-linesWrap").datum(O[0].disabled?[{values:[]}]:O);Y.select(".nv-context").attr("transform","translate(0,"+(j+b.bottom+k.top)+")"),tn.transition().call(p),nn.transition().call(c),y.x(a).on("brush",L),I&&y.extent(I);var en=Y.select(".nv-brushBackground").selectAll("g").data([I||y.extent()]),an=en.enter().append("g");an.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",q),an.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",q);var rn=Y.select(".nv-x.nv-brush").call(y);rn.selectAll("rect").attr("height",q),rn.selectAll(".resize").append("path").attr("d",V),v.ticks(Z/100).tickSize(-q,0),Y.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),Y.select(".nv-context .nv-x.nv-axis").transition().call(v),g.scale(o).ticks(q/36).tickSize(-Z,0),Y.select(".nv-context .nv-y1.nv-axis").style("opacity",J.length?1:0).attr("transform","translate(0,"+a.range()[0]+")"),Y.select(".nv-context .nv-y1.nv-axis").transition().call(g),x.scale(l).ticks(q/36).tickSize(J.length?0:-Z,0),Y.select(".nv-context .nv-y2.nv-axis").style("opacity",O.length?1:0).attr("transform","translate("+a.range()[1]+",0)"),Y.select(".nv-context .nv-y2.nv-axis").transition().call(x),m.dispatch.on("stateChange",function(){t.update()}),F.on("tooltipShow",function(t){C&&K(t,T.parentNode)}),L()}),t}var n,e,a,r,i,o,l,s=nv.models.line(),c=nv.models.line(),u=nv.models.historicalBar(),p=nv.models.historicalBar(),d=nv.models.axis(),v=nv.models.axis(),f=nv.models.axis(),h=nv.models.axis(),g=nv.models.axis(),x=nv.models.axis(),m=nv.models.legend(),y=d3.svg.brush(),b={top:30,right:30,bottom:30,left:60},k={top:0,right:30,bottom:20,left:60},w=null,S=null,A=100,W=function(t){return t.x},M=function(t){return t.y},z=nv.utils.defaultColor(),B=!0,I=null,C=!0,D=function(t,n,e){return"<h3>"+t+"</h3>"+"<p>"+e+" at "+n+"</p>"},P="No Data Available.",F=d3.dispatch("tooltipShow","tooltipHide","brush"),H=0;s.clipEdge(!0),c.interactive(!1),d.orient("bottom").tickPadding(5),f.orient("left"),h.orient("right"),v.orient("bottom").tickPadding(5),g.orient("left"),x.orient("right");var K=function(e,a){n&&(e.pointIndex+=Math.ceil(n[0]));var r=e.pos[0]+(a.offsetLeft||0),i=e.pos[1]+(a.offsetTop||0),o=d.tickFormat()(s.x()(e.point,e.pointIndex)),l=(e.series.bar?f:h).tickFormat()(s.y()(e.point,e.pointIndex)),c=D(e.series.key,o,l,e,t);nv.tooltip.show([r,i],c,e.value<0?"n":"s",null,a)};return s.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+b.left,t.pos[1]+b.top],F.tooltipShow(t)}),s.dispatch.on("elementMouseout.tooltip",function(t){F.tooltipHide(t)}),u.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+b.left,t.pos[1]+b.top],F.tooltipShow(t)}),u.dispatch.on("elementMouseout.tooltip",function(t){F.tooltipHide(t)}),F.on("tooltipHide",function(){C&&nv.tooltip.cleanup()}),t.dispatch=F,t.legend=m,t.lines=s,t.lines2=c,t.bars=u,t.bars2=p,t.xAxis=d,t.x2Axis=v,t.y1Axis=f,t.y2Axis=h,t.y3Axis=g,t.y4Axis=x,d3.rebind(t,s,"defined","size","clipVoronoi","interpolate"),t.options=nv.utils.optionsFunc.bind(t),t.x=function(n){return arguments.length?(W=n,s.x(n),u.x(n),t):W},t.y=function(n){return arguments.length?(M=n,s.y(n),u.y(n),t):M},t.margin=function(n){return arguments.length?(b.top="undefined"!=typeof n.top?n.top:b.top,b.right="undefined"!=typeof n.right?n.right:b.right,b.bottom="undefined"!=typeof n.bottom?n.bottom:b.bottom,b.left="undefined"!=typeof n.left?n.left:b.left,t):b},t.width=function(n){return arguments.length?(w=n,t):w},t.height=function(n){return arguments.length?(S=n,t):S},t.color=function(n){return arguments.length?(z=nv.utils.getColor(n),m.color(z),t):z},t.showLegend=function(n){return arguments.length?(B=n,t):B},t.tooltips=function(n){return arguments.length?(C=n,t):C},t.tooltipContent=function(n){return arguments.length?(D=n,t):D},t.noData=function(n){return arguments.length?(P=n,t):P},t.brushExtent=function(n){return arguments.length?(I=n,t):I},t};