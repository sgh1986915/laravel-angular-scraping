!function(){"use strict";window.nv.tooltip={},window.nv.models.tooltip=function(){function t(){if(u){var t=d3.select(u);"svg"!==t.node().tagName&&(t=t.select("svg"));var e=t.node()?t.attr("viewBox"):null;if(e){e=e.split(" ");var n=parseInt(t.style("width"))/e[2];c.left=c.left*n,c.top=c.top*n}}}function e(t){var e;e=u?d3.select(u):d3.select("body");var n=e.select(".nvtooltip");return null===n.node()&&(n=e.append("div").attr("class","nvtooltip "+(f?f:"xy-tooltip")).attr("id",p)),n.node().innerHTML=t,n.style("top",0).style("left",0).style("opacity",0),n.selectAll("div, table, td, tr").classed(v,!0),n.classed(v,!0),n.node()}function n(){if(d&&y(l)){t();var o=c.left,f=null!=s?s:c.top,p=e(m(l));if(u){var v=u.getElementsByTagName("svg")[0];v?v.getBoundingClientRect():u.getBoundingClientRect();var g={left:0,top:0};if(v){var h=v.getBoundingClientRect(),w=u.getBoundingClientRect();g.top=Math.abs(h.top-w.top),g.left=Math.abs(h.left-w.left)}o+=u.offsetLeft+g.left-2*u.scrollLeft,f+=u.offsetTop+g.top-2*u.scrollTop}return a&&a>0&&(f=Math.floor(f/a)*a),nv.tooltip.calcTooltipPosition([o,f],r,i,p),n}}var o=null,l=null,r="w",i=50,a=25,s=null,f=null,u=null,c={left:null,top:null},d=!0,p="nvtooltip-"+Math.floor(1e5*Math.random()),v="nv-pointer-events-none",g=function(t){return t},h=function(t){return t},m=function(t){if(null!=o)return o;if(null==t)return"";var e="<table><thead><tr><td colspan='3'><strong class='x-value'>"+h(t.value)+"</strong></td></tr></thead><tbody>";return t.series instanceof Array&&t.series.forEach(function(t,n){e+="<tr>",e+="<td class='legend-color-guide'><div style='background-color: "+t.color+";'></div></td>",e+="<td class='key'>"+t.key+":</td>",e+="<td class='value'>"+g(t.value,n)+"</td></tr>"}),e+="</tbody></table>"},y=function(t){return t&&t.series&&t.series.length>0?!0:!1};return n.nvPointerEventsClass=v,n.content=function(t){return arguments.length?(o=t,n):o},n.contentGenerator=function(t){return arguments.length?("function"==typeof t&&(m=t),n):m},n.data=function(t){return arguments.length?(l=t,n):l},n.gravity=function(t){return arguments.length?(r=t,n):r},n.distance=function(t){return arguments.length?(i=t,n):i},n.snapDistance=function(t){return arguments.length?(a=t,n):a},n.classes=function(t){return arguments.length?(f=t,n):f},n.chartContainer=function(t){return arguments.length?(u=t,n):u},n.position=function(t){return arguments.length?(c.left="undefined"!=typeof t.left?t.left:c.left,c.top="undefined"!=typeof t.top?t.top:c.top,n):c},n.fixedTop=function(t){return arguments.length?(s=t,n):s},n.enabled=function(t){return arguments.length?(d=t,n):d},n.valueFormatter=function(t){return arguments.length?("function"==typeof t&&(g=t),n):g},n.headerFormatter=function(t){return arguments.length?("function"==typeof t&&(h=t),n):h},n.id=function(){return p},n},nv.tooltip.show=function(t,e,n,o,l,r){var i=document.createElement("div");i.className="nvtooltip "+(r?r:"xy-tooltip");var a=l;(!l||l.tagName.match(/g|svg/i))&&(a=document.getElementsByTagName("body")[0]),i.style.left=0,i.style.top=0,i.style.opacity=0,i.innerHTML=e,a.appendChild(i),l&&(t[0]=t[0]-l.scrollLeft,t[1]=t[1]-l.scrollTop),nv.tooltip.calcTooltipPosition(t,n,o,i)},nv.tooltip.findFirstNonSVGParent=function(t){for(;null!==t.tagName.match(/^g|svg$/i);)t=t.parentNode;return t},nv.tooltip.findTotalOffsetTop=function(t,e){var n=e;do isNaN(t.offsetTop)||(n+=t.offsetTop);while(t=t.offsetParent);return n},nv.tooltip.findTotalOffsetLeft=function(t,e){var n=e;do isNaN(t.offsetLeft)||(n+=t.offsetLeft);while(t=t.offsetParent);return n},nv.tooltip.calcTooltipPosition=function(t,e,n,o){var l,r,i=parseInt(o.offsetHeight),a=parseInt(o.offsetWidth),s=nv.utils.windowSize().width,f=nv.utils.windowSize().height,u=window.pageYOffset,c=window.pageXOffset;f=window.innerWidth>=document.body.scrollWidth?f:f-16,s=window.innerHeight>=document.body.scrollHeight?s:s-16,e=e||"s",n=n||20;var d=function(t){return nv.tooltip.findTotalOffsetTop(t,r)},p=function(t){return nv.tooltip.findTotalOffsetLeft(t,l)};switch(e){case"e":l=t[0]-a-n,r=t[1]-i/2;var v=p(o),g=d(o);c>v&&(l=t[0]+n>c?t[0]+n:c-v+l),u>g&&(r=u-g+r),g+i>u+f&&(r=u+f-g+r-i);break;case"w":l=t[0]+n,r=t[1]-i/2;var v=p(o),g=d(o);v+a>s&&(l=t[0]-a-n),u>g&&(r=u+5),g+i>u+f&&(r=u+f-g+r-i);break;case"n":l=t[0]-a/2-5,r=t[1]+n;var v=p(o),g=d(o);c>v&&(l=c+5),v+a>s&&(l=l-a/2+5),g+i>u+f&&(r=u+f-g+r-i);break;case"s":l=t[0]-a/2,r=t[1]-i-n;var v=p(o),g=d(o);c>v&&(l=c+5),v+a>s&&(l=l-a/2+5),u>g&&(r=u);break;case"none":l=t[0],r=t[1]-n;var v=p(o),g=d(o)}return o.style.left=l+"px",o.style.top=r+"px",o.style.opacity=1,o.style.position="absolute",o},nv.tooltip.cleanup=function(){for(var t=document.getElementsByClassName("nvtooltip"),e=[];t.length;)e.push(t[0]),t[0].style.transitionDelay="0 !important",t[0].style.opacity=0,t[0].className="nvtooltip-pending-removal";setTimeout(function(){for(;e.length;){var t=e.pop();t.parentNode.removeChild(t)}},500)}}();