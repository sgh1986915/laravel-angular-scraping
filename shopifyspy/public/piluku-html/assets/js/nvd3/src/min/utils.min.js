nv.utils.windowSize=function(){var t={width:640,height:480};return document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(t.width=window.innerWidth,t.height=window.innerHeight),t},nv.utils.windowResize=function(t){if(void 0!==t){var n=window.onresize;window.onresize=function(e){"function"==typeof n&&n(e),t(e)}}},nv.utils.getColor=function(t){return arguments.length?"[object Array]"===Object.prototype.toString.call(t)?function(n,e){return n.color||t[e%t.length]}:t:nv.utils.defaultColor()},nv.utils.defaultColor=function(){var t=d3.scale.category20().range();return function(n,e){return n.color||t[e%t.length]}},nv.utils.customTheme=function(t,n,e){n=n||function(t){return t.key},e=e||d3.scale.category20().range();var o=e.length;return function(i){var u=n(i);return o||(o=e.length),"undefined"!=typeof t[u]?"function"==typeof t[u]?t[u]():t[u]:e[--o]}},nv.utils.pjax=function(t,n){function e(e){d3.html(e,function(e){var o=d3.select(n).node();o.parentNode.replaceChild(d3.select(e).select(n).node(),o),nv.utils.pjax(t,n)})}d3.selectAll(t).on("click",function(){history.pushState(this.href,this.textContent,this.href),e(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&e(d3.event.state)})},nv.utils.calcApproxTextWidth=function(t){if(t instanceof d3.selection){var n=parseInt(t.style("font-size").replace("px","")),e=t.text().length;return.5*e*n}return 0},nv.utils.NaNtoZero=function(t){return"number"!=typeof t||isNaN(t)||null===t||1/0===t?0:t},nv.utils.optionsFunc=function(t){return t&&d3.map(t).forEach(function(t,n){"function"==typeof this[t]&&this[t](n)}.bind(this)),this};