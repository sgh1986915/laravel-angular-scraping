!function(t){function n(t,n,i){return new r(t,n,i)}function r(t,n,r){this.l=t,this.a=n,this.b=r}function i(t,n,r){return new h(t,n,r)}function h(t,n,r){this.l=t,this.c=n,this.h=r}function e(n,r,i){var h=(n+16)/116,e=h+r/500,u=h-i/200;return e=c(e)*p,h=c(h)*M,u=c(u)*m,t.rgb(f(3.2404542*e-1.5371385*h-.4985314*u),f(-.969266*e+1.8760108*h+.041556*u),f(.0556434*e-.2040259*h+1.0572252*u))}function u(t,r,i){t=l(t),r=l(r),i=l(i);var h=s((.4124564*t+.3575761*r+.1804375*i)/p),e=s((.2126729*t+.7151522*r+.072175*i)/M),u=s((.0193339*t+.119192*r+.9503041*i)/m);return n(116*e-16,500*(h-e),200*(e-u))}function o(t,n,r){var h=Math.sqrt(n*n+r*r),e=180*(Math.atan2(r,n)/Math.PI);return i(t,h,e)}function a(t,r,i){return i=i*Math.PI/180,n(t,Math.cos(i)*r,Math.sin(i)*r)}function c(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function s(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function f(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function l(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}var g=t.cie={};g.lab=function(i,e,o){return 1===arguments.length?i instanceof r?n(i.l,i.a,i.b):i instanceof h?a(i.l,i.c,i.h):u((i=t.rgb(i)).r,i.g,i.b):n(+i,+e,+o)},g.lch=function(n,e,a){return 1===arguments.length?n instanceof h?i(n.l,n.c,n.h):n instanceof r?o(n.l,n.a,n.b):o((n=u((n=t.rgb(n)).r,n.g,n.b)).l,n.a,n.b):i(+n,+e,+a)},g.interpolateLab=function(t,n){t=g.lab(t),n=g.lab(n);var r=t.l,i=t.a,h=t.b,u=n.l-r,o=n.a-i,a=n.b-h;return function(t){return e(r+u*t,i+o*t,h+a*t)+""}},g.interpolateLch=function(t,n){t=g.lch(t),n=g.lch(n);var r=t.l,i=t.c,h=t.h,e=n.l-r,u=n.c-i,o=n.h-h;return o>180?o-=360:-180>o&&(o+=360),function(t){return a(r+e*t,i+u*t,h+o*t)+""}},r.prototype.brighter=function(t){return n(Math.min(100,this.l+b*(arguments.length?t:1)),this.a,this.b)},r.prototype.darker=function(t){return n(Math.max(0,this.l-b*(arguments.length?t:1)),this.a,this.b)},r.prototype.rgb=function(){return e(this.l,this.a,this.b)},r.prototype.toString=function(){return this.rgb()+""},h.prototype.brighter=function(t){return i(Math.min(100,this.l+b*(arguments.length?t:1)),this.c,this.h)},h.prototype.darker=function(t){return i(Math.max(0,this.l-b*(arguments.length?t:1)),this.c,this.h)},h.prototype.rgb=function(){return a(this.l,this.c,this.h).rgb()},h.prototype.toString=function(){return this.rgb()+""};var b=18,p=.95047,M=1,m=1.08883}(d3);