nv.models.stackedArea=function(){"use strict";function e(l){return l.each(function(e){var l=a-r.left-r.right,m=o-r.top-r.bottom,y=d3.select(this);t=g.xScale(),n=g.yScale(),e=e.map(function(e,t){return e.seriesIndex=t,e.values=e.values.map(function(e,n){return e.index=n,e.seriesIndex=t,e}),e});var x=e.filter(function(e){return!e.disabled});e=d3.layout.stack().order(p).offset(d).values(function(e){return e.values}).x(u).y(c).out(function(e,t,n){var r=0===c(e)?0:n;e.display={y:r,y0:t}})(x);var k=y.selectAll("g.nv-wrap.nv-stackedarea").data([e]),b=k.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),I=b.append("defs"),M=b.append("g"),w=k.select("g");M.append("g").attr("class","nv-areaWrap"),M.append("g").attr("class","nv-scatterWrap"),k.attr("transform","translate("+r.left+","+r.top+")"),g.width(l).height(m).x(u).y(function(e){return e.display.y+e.display.y0}).forceY([0]).color(e.map(function(e){return e.color||i(e,e.seriesIndex)}));var z=w.select(".nv-scatterWrap").datum(e);z.call(g),I.append("clipPath").attr("id","nv-edge-clip-"+s).append("rect"),k.select("#nv-edge-clip-"+s+" rect").attr("width",l).attr("height",m),w.attr("clip-path",h?"url(#nv-edge-clip-"+s+")":"");var S=d3.svg.area().x(function(e,n){return t(u(e,n))}).y0(function(e){return n(e.display.y0)}).y1(function(e){return n(e.display.y+e.display.y0)}).interpolate(f),C=d3.svg.area().x(function(e,n){return t(u(e,n))}).y0(function(e){return n(e.display.y0)}).y1(function(e){return n(e.display.y0)}),Y=w.select(".nv-areaWrap").selectAll("path.nv-area").data(function(e){return e});Y.enter().append("path").attr("class",function(e,t){return"nv-area nv-area-"+t}).attr("d",function(e){return C(e.values,e.seriesIndex)}).on("mouseover",function(e,t){d3.select(this).classed("hover",!0),v.areaMouseover({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1),v.areaMouseout({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t})}).on("click",function(e,t){d3.select(this).classed("hover",!1),v.areaClick({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t})}),Y.exit().transition().attr("d",function(e,t){return C(e.values,t)}).remove(),Y.style("fill",function(e){return e.color||i(e,e.seriesIndex)}).style("stroke",function(e){return e.color||i(e,e.seriesIndex)}),Y.transition().attr("d",function(e,t){return S(e.values,t)}),g.dispatch.on("elementMouseover.area",function(e){w.select(".nv-chart-"+s+" .nv-area-"+e.seriesIndex).classed("hover",!0)}),g.dispatch.on("elementMouseout.area",function(e){w.select(".nv-chart-"+s+" .nv-area-"+e.seriesIndex).classed("hover",!1)})}),e}var t,n,r={top:0,right:0,bottom:0,left:0},a=960,o=500,i=nv.utils.defaultColor(),s=Math.floor(1e5*Math.random()),u=function(e){return e.x},c=function(e){return e.y},l="stack",d="zero",p="default",f="linear",h=!1,g=nv.models.scatter(),v=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout");return g.size(2.2).sizeDomain([2.2,2.2]),g.dispatch.on("elementClick.area",function(e){v.areaClick(e)}),g.dispatch.on("elementMouseover.tooltip",function(e){e.pos=[e.pos[0]+r.left,e.pos[1]+r.top],v.tooltipShow(e)}),g.dispatch.on("elementMouseout.tooltip",function(e){v.tooltipHide(e)}),e.dispatch=v,e.scatter=g,d3.rebind(e,g,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","highlightPoint","clearHighlights"),e.options=nv.utils.optionsFunc.bind(e),e.x=function(t){return arguments.length?(u=d3.functor(t),e):u},e.y=function(t){return arguments.length?(c=d3.functor(t),e):c},e.margin=function(t){return arguments.length?(r.top="undefined"!=typeof t.top?t.top:r.top,r.right="undefined"!=typeof t.right?t.right:r.right,r.bottom="undefined"!=typeof t.bottom?t.bottom:r.bottom,r.left="undefined"!=typeof t.left?t.left:r.left,e):r},e.width=function(t){return arguments.length?(a=t,e):a},e.height=function(t){return arguments.length?(o=t,e):o},e.clipEdge=function(t){return arguments.length?(h=t,e):h},e.color=function(t){return arguments.length?(i=nv.utils.getColor(t),e):i},e.offset=function(t){return arguments.length?(d=t,e):d},e.order=function(t){return arguments.length?(p=t,e):p},e.style=function(t){if(!arguments.length)return l;switch(l=t){case"stack":e.offset("zero"),e.order("default");break;case"stream":e.offset("wiggle"),e.order("inside-out");break;case"stream-center":e.offset("silhouette"),e.order("inside-out");break;case"expand":e.offset("expand"),e.order("default")}return e},e.interpolate=function(t){return arguments.length?(f=t,e):f},e};