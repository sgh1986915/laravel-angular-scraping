nv.models.bulletChart=function(){"use strict";function t(n){return n.each(function(d,m){var v=d3.select(this),y=(s||parseInt(v.style("width"))||960)-a.left-a.right,b=u-a.top-a.bottom,x=this;if(t.update=function(){t(n)},t.container=this,!d||!o.call(this,d,m)){var w=v.selectAll(".nv-noData").data([f]);return w.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),w.attr("x",a.left+y/2).attr("y",18+a.top+b/2).text(function(t){return t}),t}v.selectAll(".nv-noData").remove();var k=o.call(this,d,m).slice().sort(d3.descending),_=l.call(this,d,m).slice().sort(d3.descending),A=i.call(this,d,m).slice().sort(d3.descending),C=v.selectAll("g.nv-wrap.nv-bulletChart").data([d]),D=C.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),F=D.append("g"),H=C.select("g");F.append("g").attr("class","nv-bulletWrap"),F.append("g").attr("class","nv-titles"),C.attr("transform","translate("+a.left+","+a.top+")");var M=d3.scale.linear().domain([0,Math.max(k[0],_[0],A[0])]).range(r?[y,0]:[0,y]),S=this.__chart__||d3.scale.linear().domain([0,1/0]).range(M.range());this.__chart__=M;var N=F.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(u-a.top-a.bottom)/2+")");N.append("text").attr("class","nv-title").text(function(t){return t.title}),N.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),e.width(y).height(b);var W=H.select(".nv-bulletWrap");d3.transition(W).call(e);var I=c||M.tickFormat(y/100),L=H.selectAll("g.nv-tick").data(M.ticks(y/50),function(t){return this.textContent||I(t)}),T=L.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+S(t)+",0)"}).style("opacity",1e-6);T.append("line").attr("y1",b).attr("y2",7*b/6),T.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*b/6).text(I);var j=d3.transition(L).attr("transform",function(t){return"translate("+M(t)+",0)"}).style("opacity",1);j.select("line").attr("y1",b).attr("y2",7*b/6),j.select("text").attr("y",7*b/6),d3.transition(L.exit()).attr("transform",function(t){return"translate("+M(t)+",0)"}).style("opacity",1e-6).remove(),h.on("tooltipShow",function(t){t.key=d.title,p&&g(t,x.parentNode)})}),d3.timer.flush(),t}var e=nv.models.bullet(),n="left",r=!1,a={top:5,right:40,bottom:20,left:120},o=function(t){return t.ranges},l=function(t){return t.markers},i=function(t){return t.measures},s=null,u=55,c=null,p=!0,d=function(t,e,n){return"<h3>"+e+"</h3>"+"<p>"+n+"</p>"},f="No Data Available.",h=d3.dispatch("tooltipShow","tooltipHide"),g=function(e,n){var r=e.pos[0]+(n.offsetLeft||0)+a.left,o=e.pos[1]+(n.offsetTop||0)+a.top,l=d(e.key,e.label,e.value,e,t);nv.tooltip.show([r,o],l,e.value<0?"e":"w",null,n)};return e.dispatch.on("elementMouseover.tooltip",function(t){h.tooltipShow(t)}),e.dispatch.on("elementMouseout.tooltip",function(t){h.tooltipHide(t)}),h.on("tooltipHide",function(){p&&nv.tooltip.cleanup()}),t.dispatch=h,t.bullet=e,d3.rebind(t,e,"color"),t.options=nv.utils.optionsFunc.bind(t),t.orient=function(e){return arguments.length?(n=e,r="right"==n||"bottom"==n,t):n},t.ranges=function(e){return arguments.length?(o=e,t):o},t.markers=function(e){return arguments.length?(l=e,t):l},t.measures=function(e){return arguments.length?(i=e,t):i},t.width=function(e){return arguments.length?(s=e,t):s},t.height=function(e){return arguments.length?(u=e,t):u},t.margin=function(e){return arguments.length?(a.top="undefined"!=typeof e.top?e.top:a.top,a.right="undefined"!=typeof e.right?e.right:a.right,a.bottom="undefined"!=typeof e.bottom?e.bottom:a.bottom,a.left="undefined"!=typeof e.left?e.left:a.left,t):a},t.tickFormat=function(e){return arguments.length?(c=e,t):c},t.tooltips=function(e){return arguments.length?(p=e,t):p},t.tooltipContent=function(e){return arguments.length?(d=e,t):d},t.noData=function(e){return arguments.length?(f=e,t):f},t};