nv.models.historicalBar=function(){"use strict";function t(y){return y.each(function(t){var y=i-o.left-o.right,M=u-o.top-o.bottom,k=d3.select(this);s.domain(n||d3.extent(t[0].values.map(d).concat(g))),f?s.range(r||[.5*y/t[0].values.length,y*(t[0].values.length-.5)/t[0].values.length]):s.range(r||[0,y]),c.domain(e||d3.extent(t[0].values.map(h).concat(m))).range(a||[M,0]),s.domain()[0]===s.domain()[1]&&(s.domain()[0]?s.domain([s.domain()[0]-.01*s.domain()[0],s.domain()[1]+.01*s.domain()[1]]):s.domain([-1,1])),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]+.01*c.domain()[0],c.domain()[1]-.01*c.domain()[1]]):c.domain([-1,1]));var C=k.selectAll("g.nv-wrap.nv-historicalBar-"+l).data([t[0].values]),N=C.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+l),w=N.append("defs"),B=N.append("g"),D=C.select("g");B.append("g").attr("class","nv-bars"),C.attr("transform","translate("+o.left+","+o.top+")"),k.on("click",function(t,n){b.chartClick({data:t,index:n,pos:d3.event,id:l})}),w.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),C.select("#nv-chart-clip-path-"+l+" rect").attr("width",y).attr("height",M),D.attr("clip-path",v?"url(#nv-chart-clip-path-"+l+")":"");var I=C.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,n){return d(t,n)});I.exit().remove(),I.enter().append("rect").attr("x",0).attr("y",function(t,n){return nv.utils.NaNtoZero(c(Math.max(0,h(t,n))))}).attr("height",function(t,n){return nv.utils.NaNtoZero(Math.abs(c(h(t,n))-c(0)))}).attr("transform",function(n,e){return"translate("+(s(d(n,e))-.45*(y/t[0].values.length))+",0)"}).on("mouseover",function(n,e){x&&(d3.select(this).classed("hover",!0),b.elementMouseover({point:n,series:t[0],pos:[s(d(n,e)),c(h(n,e))],pointIndex:e,seriesIndex:0,e:d3.event}))}).on("mouseout",function(n,e){x&&(d3.select(this).classed("hover",!1),b.elementMouseout({point:n,series:t[0],pointIndex:e,seriesIndex:0,e:d3.event}))}).on("click",function(t,n){x&&(b.elementClick({value:h(t,n),data:t,index:n,pos:[s(d(t,n)),c(h(t,n))],e:d3.event,id:l}),d3.event.stopPropagation())}).on("dblclick",function(t,n){x&&(b.elementDblClick({value:h(t,n),data:t,index:n,pos:[s(d(t,n)),c(h(t,n))],e:d3.event,id:l}),d3.event.stopPropagation())}),I.attr("fill",function(t,n){return p(t,n)}).attr("class",function(t,n,e){return(h(t,n)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+e+"-"+n}).transition().attr("transform",function(n,e){return"translate("+(s(d(n,e))-.45*(y/t[0].values.length))+",0)"}).attr("width",.9*(y/t[0].values.length)),I.transition().attr("y",function(t,n){var e=h(t,n)<0?c(0):c(0)-c(h(t,n))<1?c(0)-1:c(h(t,n));return nv.utils.NaNtoZero(e)}).attr("height",function(t,n){return nv.utils.NaNtoZero(Math.max(Math.abs(c(h(t,n))-c(0)),1))})}),t}var n,e,r,a,o={top:0,right:0,bottom:0,left:0},i=960,u=500,l=Math.floor(1e4*Math.random()),s=d3.scale.linear(),c=d3.scale.linear(),d=function(t){return t.x},h=function(t){return t.y},g=[],m=[0],f=!1,v=!0,p=nv.utils.defaultColor(),b=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),x=!0;return t.highlightPoint=function(t,n){d3.select(".nv-historicalBar-"+l).select(".nv-bars .nv-bar-0-"+t).classed("hover",n)},t.clearHighlights=function(){d3.select(".nv-historicalBar-"+l).select(".nv-bars .nv-bar.hover").classed("hover",!1)},t.dispatch=b,t.options=nv.utils.optionsFunc.bind(t),t.x=function(n){return arguments.length?(d=n,t):d},t.y=function(n){return arguments.length?(h=n,t):h},t.margin=function(n){return arguments.length?(o.top="undefined"!=typeof n.top?n.top:o.top,o.right="undefined"!=typeof n.right?n.right:o.right,o.bottom="undefined"!=typeof n.bottom?n.bottom:o.bottom,o.left="undefined"!=typeof n.left?n.left:o.left,t):o},t.width=function(n){return arguments.length?(i=n,t):i},t.height=function(n){return arguments.length?(u=n,t):u},t.xScale=function(n){return arguments.length?(s=n,t):s},t.yScale=function(n){return arguments.length?(c=n,t):c},t.xDomain=function(e){return arguments.length?(n=e,t):n},t.yDomain=function(n){return arguments.length?(e=n,t):e},t.xRange=function(n){return arguments.length?(r=n,t):r},t.yRange=function(n){return arguments.length?(a=n,t):a},t.forceX=function(n){return arguments.length?(g=n,t):g},t.forceY=function(n){return arguments.length?(m=n,t):m},t.padData=function(n){return arguments.length?(f=n,t):f},t.clipEdge=function(n){return arguments.length?(v=n,t):v},t.color=function(n){return arguments.length?(p=nv.utils.getColor(n),t):p},t.id=function(n){return arguments.length?(l=n,t):l},t.interactive=function(){return arguments.length?(x=!1,t):x},t};