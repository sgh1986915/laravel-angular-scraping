nv.models.multiBarHorizontal=function(){"use strict";function t(g){return g.each(function(t){var g=l-s.left-s.right,M=c-s.top-s.bottom;d3.select(this),x&&(t=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(p)(t)),t=t.map(function(t,e){return t.values=t.values.map(function(t){return t.series=e,t}),t}),x&&t[0].values.map(function(e,n){var r=0,a=0;t.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=a-e.size,a-=e.size):(e.y1=r,r+=e.size)})});var z=n&&r?[]:t.map(function(t){return t.values.map(function(t,e){return{x:m(t,e),y:p(t,e),y0:t.y0,y1:t.y1}})});f.domain(n||d3.merge(z).map(function(t){return t.x})).rangeBands(a||[0,M],.1),d.domain(r||d3.extent(d3.merge(z).map(function(t){return x?t.y>0?t.y1+t.y:t.y1:t.y}).concat(h))),b&&!x?d.range(o||[d.domain()[0]<0?k:0,g-(d.domain()[1]>0?k:0)]):d.range(o||[0,g]),i=i||f,u=u||d3.scale.linear().domain(d.domain()).range([d(0),d(0)]);var I=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([t]),w=I.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal");w.append("defs");var A=w.append("g");I.select("g"),A.append("g").attr("class","nv-groups"),I.attr("transform","translate("+s.left+","+s.top+")");var D=I.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});D.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),D.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),D.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return v(t,e)}).style("stroke",function(t,e){return v(t,e)}),D.transition().style("stroke-opacity",1).style("fill-opacity",.75);var S=D.selectAll("g.nv-bar").data(function(t){return t.values});S.exit().remove();var H=S.enter().append("g").attr("transform",function(e,n,r){return"translate("+u(x?e.y0:0)+","+(x?0:r*f.rangeBand()/t.length+f(m(e,n)))+")"});H.append("rect").attr("width",0).attr("height",f.rangeBand()/(x?1:t.length)),S.on("mouseover",function(e,n){d3.select(this).classed("hover",!0),C.elementMouseover({value:p(e,n),point:e,series:t[e.series],pos:[d(p(e,n)+(x?e.y0:0)),f(m(e,n))+f.rangeBand()*(x?t.length/2:e.series+.5)/t.length],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),C.elementMouseout({value:p(e,n),point:e,series:t[e.series],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("click",function(e,n){C.elementClick({value:p(e,n),point:e,series:t[e.series],pos:[f(m(e,n))+f.rangeBand()*(x?t.length/2:e.series+.5)/t.length,d(p(e,n)+(x?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(e,n){C.elementDblClick({value:p(e,n),point:e,series:t[e.series],pos:[f(m(e,n))+f.rangeBand()*(x?t.length/2:e.series+.5)/t.length,d(p(e,n)+(x?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}),H.append("text"),b&&!x?(S.select("text").attr("text-anchor",function(t,e){return p(t,e)<0?"end":"start"}).attr("y",f.rangeBand()/(2*t.length)).attr("dy",".32em").text(function(t,e){return B(p(t,e))}),S.transition().select("text").attr("x",function(t,e){return p(t,e)<0?-4:d(p(t,e))-d(0)+4})):S.selectAll("text").text(""),S.attr("class",function(t,e){return p(t,e)<0?"nv-bar negative":"nv-bar positive"}),y&&(e||(e=t.map(function(){return!0})),S.style("fill",function(t,n,r){return d3.rgb(y(t,n)).darker(e.map(function(t,e){return e}).filter(function(t,n){return!e[n]})[r]).toString()}).style("stroke",function(t,n,r){return d3.rgb(y(t,n)).darker(e.map(function(t,e){return e}).filter(function(t,n){return!e[n]})[r]).toString()})),x?S.transition().attr("transform",function(t,e){return"translate("+d(t.y1)+","+f(m(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(d(p(t,e)+t.y0)-d(t.y0))}).attr("height",f.rangeBand()):S.transition().attr("transform",function(e,n){return"translate("+(p(e,n)<0?d(p(e,n)):d(0))+","+(e.series*f.rangeBand()/t.length+f(m(e,n)))+")"}).select("rect").attr("height",f.rangeBand()/t.length).attr("width",function(t,e){return Math.max(Math.abs(d(p(t,e))-d(0)),1)}),i=f.copy(),u=d.copy()}),t}var e,n,r,a,o,i,u,s={top:0,right:0,bottom:0,left:0},l=960,c=500,g=Math.floor(1e4*Math.random()),f=d3.scale.ordinal(),d=d3.scale.linear(),m=function(t){return t.x},p=function(t){return t.y},h=[0],v=nv.utils.defaultColor(),y=null,x=!1,b=!1,k=60,B=d3.format(",.2f"),M=1200,C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return t.dispatch=C,t.options=nv.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(m=e,t):m},t.y=function(e){return arguments.length?(p=e,t):p},t.margin=function(e){return arguments.length?(s.top="undefined"!=typeof e.top?e.top:s.top,s.right="undefined"!=typeof e.right?e.right:s.right,s.bottom="undefined"!=typeof e.bottom?e.bottom:s.bottom,s.left="undefined"!=typeof e.left?e.left:s.left,t):s},t.width=function(e){return arguments.length?(l=e,t):l},t.height=function(e){return arguments.length?(c=e,t):c},t.xScale=function(e){return arguments.length?(f=e,t):f},t.yScale=function(e){return arguments.length?(d=e,t):d},t.xDomain=function(e){return arguments.length?(n=e,t):n},t.yDomain=function(e){return arguments.length?(r=e,t):r},t.xRange=function(e){return arguments.length?(a=e,t):a},t.yRange=function(e){return arguments.length?(o=e,t):o},t.forceY=function(e){return arguments.length?(h=e,t):h},t.stacked=function(e){return arguments.length?(x=e,t):x},t.color=function(e){return arguments.length?(v=nv.utils.getColor(e),t):v},t.barColor=function(e){return arguments.length?(y=nv.utils.getColor(e),t):y},t.disabled=function(n){return arguments.length?(e=n,t):e},t.id=function(e){return arguments.length?(g=e,t):g},t.delay=function(e){return arguments.length?(M=e,t):M},t.showValues=function(e){return arguments.length?(b=e,t):b},t.valueFormat=function(e){return arguments.length?(B=e,t):B},t.valuePadding=function(e){return arguments.length?(k=e,t):k},t};