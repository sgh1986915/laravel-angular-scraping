nv.models.sparklinePlus=function(){"use strict";function t(p){return p.each(function(d){function g(){if(!i){var t=M.selectAll(".nv-hoverValue").data(s),n=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",function(t){return"translate("+e(a.x()(d[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),s.length&&(n.append("line").attr("x1",0).attr("y1",-r.top).attr("x2",0).attr("y2",k),n.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-r.top).attr("text-anchor","end").attr("dy",".9em"),M.select(".nv-hoverValue .nv-xValue").text(u(a.x()(d[s[0]],s[0]))),n.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-r.top).attr("text-anchor","start").attr("dy",".9em"),M.select(".nv-hoverValue .nv-yValue").text(c(a.y()(d[s[0]],s[0]))))}}function y(){function t(t,e){for(var n=Math.abs(a.x()(t[0],0)-e),r=0,l=0;l<t.length;l++)Math.abs(a.x()(t[l],l)-e)<n&&(n=Math.abs(a.x()(t[l],l)-e),r=l);return r}if(!i){var n=d3.mouse(this)[0]-r.left;s=[t(d,Math.round(e.invert(n)))],g()}}var m=d3.select(this),x=(l||parseInt(m.style("width"))||960)-r.left-r.right,k=(o||parseInt(m.style("height"))||400)-r.top-r.bottom;if(t.update=function(){t(p)},t.container=this,!d||!d.length){var V=m.selectAll(".nv-noData").data([v]);return V.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),V.attr("x",r.left+x/2).attr("y",r.top+k/2).text(function(t){return t}),t}m.selectAll(".nv-noData").remove();var b=a.y()(d[d.length-1],d.length-1);e=a.xScale(),n=a.yScale();var A=m.selectAll("g.nv-wrap.nv-sparklineplus").data([d]),w=A.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),D=w.append("g"),M=A.select("g");D.append("g").attr("class","nv-sparklineWrap"),D.append("g").attr("class","nv-valueWrap"),D.append("g").attr("class","nv-hoverArea"),A.attr("transform","translate("+r.left+","+r.top+")");var S=M.select(".nv-sparklineWrap");a.width(x).height(k),S.call(a);var W=M.select(".nv-valueWrap"),F=W.selectAll(".nv-currentValue").data([b]);F.enter().append("text").attr("class","nv-currentValue").attr("dx",f?-8:8).attr("dy",".9em").style("text-anchor",f?"end":"start"),F.attr("x",x+(f?r.right:0)).attr("y",h?function(t){return n(t)}:0).style("fill",a.color()(d[d.length-1],d.length-1)).text(c(b)),D.select(".nv-hoverArea").append("rect").on("mousemove",y).on("click",function(){i=!i}).on("mouseout",function(){s=[],g()}),M.select(".nv-hoverArea rect").attr("transform",function(){return"translate("+-r.left+","+-r.top+")"}).attr("width",x+r.left+r.right).attr("height",k+r.top)}),t}var e,n,a=nv.models.sparkline(),r={top:15,right:100,bottom:10,left:50},l=null,o=null,s=[],i=!1,u=d3.format(",r"),c=d3.format(",.2f"),p=!0,h=!0,f=!1,v="No Data Available.";return t.sparkline=a,d3.rebind(t,a,"x","y","xScale","yScale","color"),t.options=nv.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(r.top="undefined"!=typeof e.top?e.top:r.top,r.right="undefined"!=typeof e.right?e.right:r.right,r.bottom="undefined"!=typeof e.bottom?e.bottom:r.bottom,r.left="undefined"!=typeof e.left?e.left:r.left,t):r},t.width=function(e){return arguments.length?(l=e,t):l},t.height=function(e){return arguments.length?(o=e,t):o},t.xTickFormat=function(e){return arguments.length?(u=e,t):u},t.yTickFormat=function(e){return arguments.length?(c=e,t):c},t.showValue=function(e){return arguments.length?(p=e,t):p},t.alignValue=function(e){return arguments.length?(h=e,t):h},t.rightAlignValue=function(e){return arguments.length?(f=e,t):f},t.noData=function(e){return arguments.length?(v=e,t):v},t};