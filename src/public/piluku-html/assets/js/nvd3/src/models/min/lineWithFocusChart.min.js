nv.models.lineWithFocusChart=function(){"use strict";function t(w){return w.each(function(w){function W(t){var n=+("e"==t),e=n?1:-1,a=H/3;return"M"+.5*e+","+a+"A6,6 0 0 "+n+" "+6.5*e+","+(a+6)+"V"+(2*a-6)+"A6,6 0 0 "+n+" "+.5*e+","+2*a+"Z"+"M"+2.5*e+","+(a+8)+"V"+(2*a-8)+"M"+4.5*e+","+(a+8)+"V"+(2*a-8)}function C(){d.empty()||d.extent(b),Y.data([d.empty()?a.domain():b]).each(function(t){var e=a(t[0])-n.range()[0],r=n.range()[1]-a(t[1]);d3.select(this).select(".left").attr("width",0>e?0:e),d3.select(this).select(".right").attr("x",a(t[1])).attr("width",0>r?0:r)})}function z(){b=d.empty()?null:d.extent();var t=d.empty()?a.domain():d.extent();if(!(Math.abs(t[0]-t[1])<=1)){F.brush({extent:t,brush:d}),C();var n=N.select(".nv-focus .nv-linesWrap").datum(w.filter(function(t){return!t.disabled}).map(function(n){return{key:n.key,values:n.values.filter(function(n,e){return i.x()(n,e)>=t[0]&&i.x()(n,e)<=t[1]})}}));n.transition().duration(D).call(i),N.select(".nv-focus .nv-x.nv-axis").transition().duration(D).call(l),N.select(".nv-focus .nv-y.nv-axis").transition().duration(D).call(s)}}var M=d3.select(this),I=this,V=(v||parseInt(M.style("width"))||960)-g.left-g.right,E=(m||parseInt(M.style("height"))||400)-g.top-g.bottom-x,H=x-h.top-h.bottom;if(t.update=function(){M.transition().duration(D).call(t)},t.container=this,!(w&&w.length&&w.filter(function(t){return t.values.length}).length)){var T=M.selectAll(".nv-noData").data([A]);return T.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),T.attr("x",g.left+V/2).attr("y",g.top+E/2).text(function(t){return t}),t}M.selectAll(".nv-noData").remove(),n=i.xScale(),e=i.yScale(),a=o.xScale(),r=o.yScale();var B=M.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([w]),L=B.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),N=B.select("g");L.append("g").attr("class","nv-legendWrap");var P=L.append("g").attr("class","nv-focus");P.append("g").attr("class","nv-x nv-axis"),P.append("g").attr("class","nv-y nv-axis"),P.append("g").attr("class","nv-linesWrap");var R=L.append("g").attr("class","nv-context");R.append("g").attr("class","nv-x nv-axis"),R.append("g").attr("class","nv-y nv-axis"),R.append("g").attr("class","nv-linesWrap"),R.append("g").attr("class","nv-brushBackground"),R.append("g").attr("class","nv-x nv-brush"),y&&(p.width(V),N.select(".nv-legendWrap").datum(w).call(p),g.top!=p.height()&&(g.top=p.height(),E=(m||parseInt(M.style("height"))||400)-g.top-g.bottom-x),N.select(".nv-legendWrap").attr("transform","translate(0,"+-g.top+")")),B.attr("transform","translate("+g.left+","+g.top+")"),i.width(V).height(E).color(w.map(function(t,n){return t.color||f(t,n)}).filter(function(t,n){return!w[n].disabled})),o.defined(i.defined()).width(V).height(H).color(w.map(function(t,n){return t.color||f(t,n)}).filter(function(t,n){return!w[n].disabled})),N.select(".nv-context").attr("transform","translate(0,"+(E+g.bottom+h.top)+")");var X=N.select(".nv-context .nv-linesWrap").datum(w.filter(function(t){return!t.disabled}));d3.transition(X).call(o),l.scale(n).ticks(V/100).tickSize(-E,0),s.scale(e).ticks(E/36).tickSize(-V,0),N.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+E+")"),d.x(a).on("brush",function(){var n=t.transitionDuration();t.transitionDuration(0),z(),t.transitionDuration(n)}),b&&d.extent(b);var Y=N.select(".nv-brushBackground").selectAll("g").data([b||d.extent()]),Z=Y.enter().append("g");Z.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",H),Z.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",H);var j=N.select(".nv-x.nv-brush").call(d);j.selectAll("rect").attr("height",H),j.selectAll(".resize").append("path").attr("d",W),z(),c.scale(a).ticks(V/100).tickSize(-H,0),N.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),d3.transition(N.select(".nv-context .nv-x.nv-axis")).call(c),u.scale(r).ticks(H/36).tickSize(-V,0),d3.transition(N.select(".nv-context .nv-y.nv-axis")).call(u),N.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),p.dispatch.on("stateChange",function(){t.update()}),F.on("tooltipShow",function(t){k&&S(t,I.parentNode)})}),t}var n,e,a,r,i=nv.models.line(),o=nv.models.line(),l=nv.models.axis(),s=nv.models.axis(),c=nv.models.axis(),u=nv.models.axis(),p=nv.models.legend(),d=d3.svg.brush(),g={top:30,right:30,bottom:30,left:60},h={top:0,right:30,bottom:20,left:60},f=nv.utils.defaultColor(),v=null,m=null,x=100,y=!0,b=null,k=!0,w=function(t,n,e){return"<h3>"+t+"</h3>"+"<p>"+e+" at "+n+"</p>"},A="No Data Available.",F=d3.dispatch("tooltipShow","tooltipHide","brush"),D=250;i.clipEdge(!0),o.interactive(!1),l.orient("bottom").tickPadding(5),s.orient("left"),c.orient("bottom").tickPadding(5),u.orient("left");var S=function(n,e){var a=n.pos[0]+(e.offsetLeft||0),r=n.pos[1]+(e.offsetTop||0),o=l.tickFormat()(i.x()(n.point,n.pointIndex)),c=s.tickFormat()(i.y()(n.point,n.pointIndex)),u=w(n.series.key,o,c,n,t);nv.tooltip.show([a,r],u,null,null,e)};return i.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+g.left,t.pos[1]+g.top],F.tooltipShow(t)}),i.dispatch.on("elementMouseout.tooltip",function(t){F.tooltipHide(t)}),F.on("tooltipHide",function(){k&&nv.tooltip.cleanup()}),t.dispatch=F,t.legend=p,t.lines=i,t.lines2=o,t.xAxis=l,t.yAxis=s,t.x2Axis=c,t.y2Axis=u,d3.rebind(t,i,"defined","isArea","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id"),t.options=nv.utils.optionsFunc.bind(t),t.x=function(n){return arguments.length?(i.x(n),o.x(n),t):i.x},t.y=function(n){return arguments.length?(i.y(n),o.y(n),t):i.y},t.margin=function(n){return arguments.length?(g.top="undefined"!=typeof n.top?n.top:g.top,g.right="undefined"!=typeof n.right?n.right:g.right,g.bottom="undefined"!=typeof n.bottom?n.bottom:g.bottom,g.left="undefined"!=typeof n.left?n.left:g.left,t):g},t.margin2=function(n){return arguments.length?(h=n,t):h},t.width=function(n){return arguments.length?(v=n,t):v},t.height=function(n){return arguments.length?(m=n,t):m},t.height2=function(n){return arguments.length?(x=n,t):x},t.color=function(n){return arguments.length?(f=nv.utils.getColor(n),p.color(f),t):f},t.showLegend=function(n){return arguments.length?(y=n,t):y},t.tooltips=function(n){return arguments.length?(k=n,t):k},t.tooltipContent=function(n){return arguments.length?(w=n,t):w},t.interpolate=function(n){return arguments.length?(i.interpolate(n),o.interpolate(n),t):i.interpolate()},t.noData=function(n){return arguments.length?(A=n,t):A},t.xTickFormat=function(n){return arguments.length?(l.tickFormat(n),c.tickFormat(n),t):l.tickFormat()},t.yTickFormat=function(n){return arguments.length?(s.tickFormat(n),u.tickFormat(n),t):s.tickFormat()},t.brushExtent=function(n){return arguments.length?(b=n,t):b},t.transitionDuration=function(n){return arguments.length?(D=n,t):D},t};