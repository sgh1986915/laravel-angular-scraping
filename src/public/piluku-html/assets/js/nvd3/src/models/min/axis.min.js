nv.models.axis=function(){"use strict";function t(r){return r.each(function(t){var r=d3.select(this),h=r.selectAll("g.nv-wrap.nv-axis").data([t]),m=h.enter().append("g").attr("class","nvd3 nv-wrap nv-axis");m.append("g");var p=h.select("g");null!==x?e.ticks(x):("top"==e.orient()||"bottom"==e.orient())&&e.ticks(Math.abs(i.range()[1]-i.range()[0])/100),p.transition().call(e),f=f||e.scale();var v=e.tickFormat();null==v&&(v=f.tickFormat());var y=p.selectAll("text.nv-axislabel").data([s||null]);switch(y.exit().remove(),e.orient()){case"top":y.enter().append("text").attr("class","nv-axislabel");var b=2==i.range().length?i.range()[1]:i.range()[i.range().length-1]+(i.range()[1]-i.range()[0]);if(y.attr("text-anchor","middle").attr("y",0).attr("x",b/2),o){var M=h.selectAll("g.nv-axisMaxMin").data(i.domain());M.enter().append("g").attr("class","nv-axisMaxMin").append("text"),M.exit().remove(),M.attr("transform",function(t){return"translate("+i(t)+",0)"}).select("text").attr("dy","0em").attr("y",-e.tickPadding()).attr("text-anchor","middle").text(function(t){var e=v(t);return(""+e).match("NaN")?"":e}),M.transition().attr("transform",function(t,e){return"translate("+i.range()[e]+",0)"})}break;case"bottom":var k=36,B=30,A=p.selectAll("g").select("text");if(c%360){A.each(function(){var t=this.getBBox().width;t>B&&(B=t)});var w=Math.abs(Math.sin(c*Math.PI/180)),k=(w?w*B:B)+30;A.attr("transform",function(){return"rotate("+c+" 0,0)"}).style("text-anchor",c%360>0?"start":"end")}y.enter().append("text").attr("class","nv-axislabel");var b=2==i.range().length?i.range()[1]:i.range()[i.range().length-1]+(i.range()[1]-i.range()[0]);if(y.attr("text-anchor","middle").attr("y",k).attr("x",b/2),o){var M=h.selectAll("g.nv-axisMaxMin").data([i.domain()[0],i.domain()[i.domain().length-1]]);M.enter().append("g").attr("class","nv-axisMaxMin").append("text"),M.exit().remove(),M.attr("transform",function(t){return"translate("+(i(t)+(u?i.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",e.tickPadding()).attr("transform",function(){return"rotate("+c+" 0,0)"}).style("text-anchor",c?c%360>0?"start":"end":"middle").text(function(t){var e=v(t);return(""+e).match("NaN")?"":e}),M.transition().attr("transform",function(t){return"translate("+(i(t)+(u?i.rangeBand()/2:0))+",0)"})}g&&A.attr("transform",function(t,e){return"translate(0,"+(0==e%2?"0":"12")+")"});break;case"right":if(y.enter().append("text").attr("class","nv-axislabel"),y.style("text-anchor",d?"middle":"begin").attr("transform",d?"rotate(90)":"").attr("y",d?-Math.max(a.right,n)+12:-10).attr("x",d?i.range()[0]/2:e.tickPadding()),o){var M=h.selectAll("g.nv-axisMaxMin").data(i.domain());M.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),M.exit().remove(),M.attr("transform",function(t){return"translate(0,"+i(t)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",e.tickPadding()).style("text-anchor","start").text(function(t){var e=v(t);return(""+e).match("NaN")?"":e}),M.transition().attr("transform",function(t,e){return"translate(0,"+i.range()[e]+")"}).select("text").style("opacity",1)}break;case"left":if(y.enter().append("text").attr("class","nv-axislabel"),y.style("text-anchor",d?"middle":"end").attr("transform",d?"rotate(-90)":"").attr("y",d?-Math.max(a.left,n)+12:-10).attr("x",d?-i.range()[0]/2:-e.tickPadding()),o){var M=h.selectAll("g.nv-axisMaxMin").data(i.domain());M.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),M.exit().remove(),M.attr("transform",function(t){return"translate(0,"+f(t)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-e.tickPadding()).attr("text-anchor","end").text(function(t){var e=v(t);return(""+e).match("NaN")?"":e}),M.transition().attr("transform",function(t,e){return"translate(0,"+i.range()[e]+")"}).select("text").style("opacity",1)}}if(y.text(function(t){return t}),!o||"left"!==e.orient()&&"right"!==e.orient()||(p.selectAll("g").each(function(t){d3.select(this).select("text").attr("opacity",1),(i(t)<i.range()[1]+10||i(t)>i.range()[0]-10)&&((t>1e-10||-1e-10>t)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),i.domain()[0]==i.domain()[1]&&0==i.domain()[0]&&h.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),o&&("top"===e.orient()||"bottom"===e.orient())){var N=[];h.selectAll("g.nv-axisMaxMin").each(function(t,e){try{e?N.push(i(t)-this.getBBox().width-4):N.push(i(t)+this.getBBox().width+4)}catch(a){e?N.push(i(t)-4):N.push(i(t)+4)}}),p.selectAll("g").each(function(t){(i(t)<N[0]||i(t)>N[1])&&(t>1e-10||-1e-10>t?d3.select(this).remove():d3.select(this).select("text").remove())})}l&&p.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t.__data__)/1e6)&&void 0!==t.__data__}).classed("zero",!0),f=i.copy()}),t}var e=d3.svg.axis(),a={top:0,right:0,bottom:0,left:0},n=75,r=60,i=d3.scale.linear(),s=null,o=!0,l=!0,c=0,d=!0,g=!1,u=!1,x=null;e.scale(i).orient("bottom").tickFormat(function(t){return t});var f;return t.axis=e,d3.rebind(t,e,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"),d3.rebind(t,i,"domain","range","rangeBand","rangeBands"),t.options=nv.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(a.top="undefined"!=typeof e.top?e.top:a.top,a.right="undefined"!=typeof e.right?e.right:a.right,a.bottom="undefined"!=typeof e.bottom?e.bottom:a.bottom,a.left="undefined"!=typeof e.left?e.left:a.left,t):a},t.width=function(e){return arguments.length?(n=e,t):n},t.ticks=function(e){return arguments.length?(x=e,t):x},t.height=function(e){return arguments.length?(r=e,t):r},t.axisLabel=function(e){return arguments.length?(s=e,t):s},t.showMaxMin=function(e){return arguments.length?(o=e,t):o},t.highlightZero=function(e){return arguments.length?(l=e,t):l},t.scale=function(a){return arguments.length?(i=a,e.scale(i),u="function"==typeof i.rangeBands,d3.rebind(t,i,"domain","range","rangeBand","rangeBands"),t):i},t.rotateYLabel=function(e){return arguments.length?(d=e,t):d},t.rotateLabels=function(e){return arguments.length?(c=e,t):c},t.staggerLabels=function(e){return arguments.length?(g=e,t):g},t};