nv.models.indentedTree=function(){"use strict";function t(e){return e.each(function(e){function n(e,r,l){return d3.event.stopPropagation(),d3.event.shiftKey&&!l?(d3.event.shiftKey=!1,e.values&&e.values.forEach(function(t){(t.values||t._values)&&n(t,0,!0)}),!0):m(e)?(e.values?(e._values=e.values,e.values=null):(e.values=e._values,e._values=null),t.update(),void 0):!0}function l(t){return t._values&&t._values.length?f:t.values&&t.values.length?p:""}function a(t){return t._values&&t._values.length}function m(t){var e=t.values||t._values;return e&&e.length}var y=1,b=d3.select(this),x=d3.layout.tree().children(function(t){return t.values}).size([r,i]);t.update=function(){b.transition().duration(600).call(t)},e[0]||(e[0]={key:s});var _=x.nodes(e[0]),k=d3.select(this).selectAll("div").data([[_]]),w=k.enter().append("div").attr("class","nvd3 nv-wrap nv-indentedtree"),C=w.append("table"),M=k.select("table").attr("width","100%").attr("class",d);if(u){var A=C.append("thead"),D=A.append("tr");c.forEach(function(t){D.append("th").attr("width",t.width?t.width:"10%").style("text-align","numeric"==t.type?"right":"left").append("span").text(t.label)})}var E=M.selectAll("tbody").data(function(t){return t});E.enter().append("tbody"),y=d3.max(_,function(t){return t.depth}),x.size([r,y*i]);var z=E.selectAll("tr").data(function(t){return t.filter(function(t){return o&&!t.children?o(t):!0})},function(t){return t.id||t.id||++g});z.exit().remove(),z.select("img.nv-treeicon").attr("src",l).classed("folded",a);var K=z.enter().append("tr");c.forEach(function(t,e){var r=K.append("td").style("padding-left",function(t){return(e?0:t.depth*i+12+(l(t)?0:16))+"px"},"important").style("text-align","numeric"==t.type?"right":"left");0==e&&r.append("img").classed("nv-treeicon",!0).classed("nv-folded",a).attr("src",l).style("width","14px").style("height","14px").style("padding","0 1px").style("display",function(t){return l(t)?"inline-block":"none"}).on("click",n),r.each(function(n){!e&&v(n)?d3.select(this).append("a").attr("href",v).attr("class",d3.functor(t.classes)).append("span"):d3.select(this).append("span"),d3.select(this).select("span").attr("class",d3.functor(t.classes)).text(function(e){return t.format?t.format(e):e[t.key]||"-"})}),t.showCount&&(r.append("span").attr("class","nv-childrenCount"),z.selectAll("span.nv-childrenCount").text(function(t){return t.values&&t.values.length||t._values&&t._values.length?"("+(t.values&&t.values.filter(function(t){return o?o(t):!0}).length||t._values&&t._values.filter(function(t){return o?o(t):!0}).length||0)+")":""}))}),z.order().on("click",function(t){h.elementClick({row:this,data:t,pos:[t.x,t.y]})}).on("dblclick",function(t){h.elementDblclick({row:this,data:t,pos:[t.x,t.y]})}).on("mouseover",function(t){h.elementMouseover({row:this,data:t,pos:[t.x,t.y]})}).on("mouseout",function(t){h.elementMouseout({row:this,data:t,pos:[t.x,t.y]})})}),t}var e={top:0,right:0,bottom:0,left:0},n=960,r=500,l=nv.utils.defaultColor(),a=Math.floor(1e4*Math.random()),u=!0,o=!1,s="No Data Available.",i=20,c=[{key:"key",label:"Name",type:"text"}],d=null,f="images/grey-plus.png",p="images/grey-minus.png",h=d3.dispatch("elementClick","elementDblclick","elementMouseover","elementMouseout"),v=function(t){return t.url},g=0;return t.options=nv.utils.optionsFunc.bind(t),t.margin=function(n){return arguments.length?(e.top="undefined"!=typeof n.top?n.top:e.top,e.right="undefined"!=typeof n.right?n.right:e.right,e.bottom="undefined"!=typeof n.bottom?n.bottom:e.bottom,e.left="undefined"!=typeof n.left?n.left:e.left,t):e},t.width=function(e){return arguments.length?(n=e,t):n},t.height=function(e){return arguments.length?(r=e,t):r},t.color=function(e){return arguments.length?(l=nv.utils.getColor(e),scatter.color(l),t):l},t.id=function(e){return arguments.length?(a=e,t):a},t.header=function(e){return arguments.length?(u=e,t):u},t.noData=function(e){return arguments.length?(s=e,t):s},t.filterZero=function(e){return arguments.length?(o=e,t):o},t.columns=function(e){return arguments.length?(c=e,t):c},t.tableClass=function(e){return arguments.length?(d=e,t):d},t.iconOpen=function(e){return arguments.length?(f=e,t):f},t.iconClose=function(e){return arguments.length?(p=e,t):p},t.getUrl=function(e){return arguments.length?(v=e,t):v},t};